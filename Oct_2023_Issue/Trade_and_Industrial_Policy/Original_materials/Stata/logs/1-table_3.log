------------------------------------------------------------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  /Users/ahmadlp/Dropbox/LL2020/Replication_Aug_2023/Stata/logs/1-table_3.log
  log type:  text
 opened on:   8 Aug 2023, 16:33:31

. 
. if "$access_to_datamyne" == "yes" {
. ************************************************
.   *********     CLEAN DATA     ***********
. ************************************************        
. do code/data_prep/0-clean_firm_names // clean and synchronize firm names

. clear

. 
. **you need to have or install strdist package:
. *ssc install strdist
. 
. local table Weightallyears

. 
. 
. if 1{
.         
. if 1{
.         
.         foreach year in 2007 2009 2010 2011 2012 2013 {
  2.                 #delimit ;
delimiter now ;
.                 use FOBValueUS CIFValueUS DeclarationDate  
>                         ProviderEmail
>                         ProductHS Provider ProviderCountry using data/confidential_data/datamyne/ColombiaImports`year'_1, clear;
  3.                 save data/temp/temp1, replace;
  4.                 use FOBValueUS CIFValueUS Product  DeclarationDate 
>                         ProviderEmail
>                         ProductHS Provider ProviderCountry using data/confidential_data/datamyne/ColombiaImports`year'_2, clear;
  5.                 append using data/temp/temp1;
  6.                 drop if FOBValueUS==0 | CIFValueUS==0 |Provider=="";
  7.                 #delimit cr
delimiter now cr
.                 **year;
.                 gen year=year( DeclarationDate)
  8.                 keep if year==`year'
  9.                 
.                 ** fixing country names
.                 gen str3 prov=ProviderCountry
 10.                 replace ProviderCountry="ESPANIA" if prov=="ESP"
 11.                 drop prov
 12.                 
.                 ** fixing firm name
.                 drop if Provider=="" |ProviderCountry=="" 
 13.                 gen Provider1=upper(Provider)
 14.                 replace Provider1 = subinstr(Provider1,".","",.)
 15.                 replace Provider1 = subinstr(Provider1," ","",.)
 16.                 replace Provider1 = subinstr(Provider1,",","",.)
 17.                 replace Provider1 = subinstr(Provider1,"/","",.)
 18.                 replace Provider1 = subinstr(Provider1,"-","",.)
 19.                 replace Provider1 = subinstr(Provider1,";","",.)
 20.                 replace Provider1 = subinstr(Provider1,"&","",.)
 21.                 replace Provider1 = subinstr(Provider1,char(34),"",.)
 22.                 replace Provider1 = subinstr(Provider1,"(","",.)
 23.                 replace Provider1 = subinstr(Provider1,")","",.)
 24.                 replace Provider1 = subinstr(Provider1,"@","",.)
 25.                 replace Provider1 = subinstr(Provider1,"LLC","",.)
 26.                 replace Provider1 = subinstr(Provider1,"?","",.)
 27.                 replace Provider1 = subinstr(Provider1,"`","",.)
 28.                 replace Provider1 = subinstr(Provider1,"}","",.)
 29.                 gen str12 Provider2=Provider1
 30.                 drop if Provider2=="DEPARTAMENTO"
 31.                 drop Provider1 Provider
 32.                 rename Provider2 Provider
 33.                 
.                 ** fixing email
.                 gen ProviderEmail1=upper(ProviderEmail)
 34.                 replace ProviderEmail1 = subinstr(ProviderEmail1,".","",.)
 35.                 replace ProviderEmail1 = subinstr(ProviderEmail1," ","",.)
 36.                 replace ProviderEmail1 = subinstr(ProviderEmail1,",","",.)
 37.                 replace ProviderEmail1 = subinstr(ProviderEmail1,"/","",.)
 38.                 replace ProviderEmail1 = subinstr(ProviderEmail1,"-","",.)
 39.                 replace ProviderEmail1 = subinstr(ProviderEmail1,";","",.)
 40.                 replace ProviderEmail1 = subinstr(ProviderEmail1,"&","",.)
 41.                 replace ProviderEmail1 = subinstr(ProviderEmail1,char(34),"",.)
 42.                 replace ProviderEmail1 = subinstr(ProviderEmail1,"(","",.)
 43.                 replace ProviderEmail1 = subinstr(ProviderEmail1,")","",.)
 44.                 replace ProviderEmail1 = subinstr(ProviderEmail1,"@","",.)
 45.                 replace ProviderEmail1 = subinstr(ProviderEmail1,"FAX","",.)
 46.                 replace ProviderEmail1 = subinstr(ProviderEmail1,":","",.)
 47.                 replace ProviderEmail1 = subinstr(ProviderEmail1,"#","",.)
 48.                 drop if ProviderEmail1=="NOTIENE"
 49.                 drop if ProviderEmail1=="NOREPORTA"
 50.                 drop if ProviderEmail1=="NOREGISTRA"
 51.                 drop if ProviderEmail1=="NOAPLICA"
 52.                 drop if ProviderEmail1=="SINNUMERO"
 53.                 drop if ProviderEmail1=="NOREPORTAHOTMAILCOM"
 54.                 drop if ProviderEmail1=="NO"
 55.                 drop if ProviderEmail1=="NOPRESENTA"
 56.                 drop if ProviderEmail1=="3055935515"
 57.                 drop if ProviderEmail1=="NOAMERITA"
 58.                 drop if ProviderEmail1=="3058712865"
 59.                 drop if ProviderEmail1=="44443866"
 60.                 drop if ProviderEmail1=="SN"
 61.                 drop if ProviderEmail1=="NOEMAIL"
 62.                 drop if ProviderEmail1=="6676266"
 63.                 drop if ProviderEmail1=="3218151297"
 64.                 drop if ProviderEmail1=="3218151311"
 65.                 drop if ProviderEmail1==""
 66.                 drop if ProviderEmail1=="ND"
 67.                 drop if ProviderEmail1=="NOMANIFIESTA"
 68.                 drop if ProviderEmail1=="1"
 69.                 drop if ProviderEmail1=="0000000000"
 70.                 drop if ProviderEmail1=="0"
 71.                 drop if ProviderEmail1=="1234567890"
 72.                 drop if ProviderEmail1=="N"
 73.                 gen str12 ProviderEmail2=ProviderEmail1
 74.                 drop ProviderEmail ProviderEmail1
 75.                 rename ProviderEmail2 ProviderEmail
 76.                 
.                 ** gen Ntrans, Ncountries, NFirms, Nproducts by firm year
.                 bysort ProviderCountry Provider year: gen NtransFirm=_N
 77.                 egen Valuefob=sum(FOBValueUS), by(ProviderCountry Provider year)
 78.                 egen Valuecif=sum(CIFValueUS), by(ProviderCountry Provider year)
 79. 
.         
.                 collapse (mean) Ntrans Valuefob Valuecif, by(ProductHS Provider ProviderCountry ProviderEmail year)
 80.                 
.         if 1{           
 81.                 gen Nvarieties=_N
 82.                 egen k=group(ProductHS)
 83.                 egen NproductsHS=max(k)
 84.                 drop k
 85.                 egen k=group(ProviderCountry)
 86.                 egen Ncountries=max(k)
 87.                 
.                 collapse (mean) NtransFirm Valuefob Valuecif Nvarieties Ncountries Nproducts, by(year Provider ProviderCountry ProviderEmail)
 88. }
 89.                 if `year'==2007{
 90.                         save data/temp/tableSummary1, replace
 91.                         }
 92.                 if `year'!=2007{
 93.                         append using data/temp/tableSummary1
 94.                         save data/temp/tableSummary1, replace
 95.                         }
 96.                 
.         }
(file data/temp/temp1.dta not found)
file data/temp/temp1.dta saved
(variable ProviderEmail was str30, now str32 to accommodate using data's values)
(908 observations deleted)
(5,000 observations deleted)
(3,494 missing values generated)
(50,544 real changes made)
(3,494 observations deleted)
(968,907 real changes made)
(2,096,491 real changes made)
(294,250 real changes made)
(19,544 real changes made)
(69,427 real changes made)
(420 real changes made)
(119,362 real changes made)
(81 real changes made)
(31,071 real changes made)
(30,895 real changes made)
(42 real changes made)
(51,531 real changes made)
(4 real changes made)
(1,099 real changes made)
(4 real changes made)
(905 observations deleted)
(1,319 missing values generated)
(1,067,190 real changes made)
(270,511 real changes made)
(4,113 real changes made)
(21,643 real changes made)
(301,210 real changes made)
(123 real changes made)
(7,438 real changes made)
(3 real changes made)
(58,222 real changes made)
(58,231 real changes made)
(894,956 real changes made)
(195,844 real changes made)
(4,682 real changes made)
(2,167 real changes made)
(9,155 observations deleted)
(772 observations deleted)
(290 observations deleted)
(640 observations deleted)
(622 observations deleted)
(20 observations deleted)
(95 observations deleted)
(238 observations deleted)
(34 observations deleted)
(203 observations deleted)
(87 observations deleted)
(0 observations deleted)
(104 observations deleted)
(491 observations deleted)
(0 observations deleted)
(0 observations deleted)
(0 observations deleted)
(1,367 observations deleted)
(58 observations deleted)
(0 observations deleted)
(39 observations deleted)
(2 observations deleted)
(65 observations deleted)
(67 observations deleted)
(9 observations deleted)
(file data/temp/tableSummary1.dta not found)
file data/temp/tableSummary1.dta saved
file data/temp/temp1.dta saved
(972 observations deleted)
(0 observations deleted)
(2,281 missing values generated)
(66,961 real changes made)
(2,281 observations deleted)
(900,463 real changes made)
(1,946,371 real changes made)
(278,300 real changes made)
(19,415 real changes made)
(68,198 real changes made)
(746 real changes made)
(128,330 real changes made)
(338 real changes made)
(32,734 real changes made)
(32,651 real changes made)
(26 real changes made)
(61,447 real changes made)
(3 real changes made)
(876 real changes made)
(1 real change made)
(389 observations deleted)
(2,520 missing values generated)
(996,557 real changes made)
(235,679 real changes made)
(3,008 real changes made)
(22,032 real changes made)
(330,155 real changes made)
(259 real changes made)
(11,954 real changes made)
(0 real changes made)
(83,778 real changes made)
(83,838 real changes made)
(837,569 real changes made)
(139,634 real changes made)
(3,339 real changes made)
(47 real changes made)
(6,842 observations deleted)
(1,476 observations deleted)
(417 observations deleted)
(1,044 observations deleted)
(1,033 observations deleted)
(193 observations deleted)
(52 observations deleted)
(322 observations deleted)
(19 observations deleted)
(104 observations deleted)
(22 observations deleted)
(0 observations deleted)
(209 observations deleted)
(201 observations deleted)
(7 observations deleted)
(0 observations deleted)
(0 observations deleted)
(2,563 observations deleted)
(27 observations deleted)
(0 observations deleted)
(29 observations deleted)
(1 observation deleted)
(65 observations deleted)
(209 observations deleted)
(1 observation deleted)
file data/temp/tableSummary1.dta saved
file data/temp/temp1.dta saved
(variable ProviderCountry was str32, now str50 to accommodate using data's values)
(701 observations deleted)
(0 observations deleted)
(1,355 missing values generated)
(104,521 real changes made)
(1,355 observations deleted)
(1,161,344 real changes made)
(2,332,173 real changes made)
(329,117 real changes made)
(24,167 real changes made)
(67,052 real changes made)
(922 real changes made)
(158,954 real changes made)
(260 real changes made)
(43,125 real changes made)
(42,990 real changes made)
(15 real changes made)
(83,454 real changes made)
(2 real changes made)
(1,211 real changes made)
(0 real changes made)
(427 observations deleted)
(3,502 missing values generated)
(1,234,434 real changes made)
(284,192 real changes made)
(2,189 real changes made)
(14,318 real changes made)
(418,837 real changes made)
(127 real changes made)
(14,494 real changes made)
(1 real change made)
(129,550 real changes made)
(129,696 real changes made)
(1,029,814 real changes made)
(184,382 real changes made)
(3,308 real changes made)
(36 real changes made)
(4,747 observations deleted)
(1,500 observations deleted)
(373 observations deleted)
(1,253 observations deleted)
(1,119 observations deleted)
(502 observations deleted)
(18 observations deleted)
(21 observations deleted)
(3 observations deleted)
(6 observations deleted)
(1 observation deleted)
(0 observations deleted)
(1,011 observations deleted)
(88 observations deleted)
(0 observations deleted)
(0 observations deleted)
(4 observations deleted)
(3,573 observations deleted)
(52 observations deleted)
(49 observations deleted)
(82 observations deleted)
(37 observations deleted)
(55 observations deleted)
(21 observations deleted)
(0 observations deleted)
file data/temp/tableSummary1.dta saved
file data/temp/temp1.dta saved
(680 observations deleted)
(0 observations deleted)
(189 missing values generated)
(117,294 real changes made)
(189 observations deleted)
(1,324,936 real changes made)
(2,651,767 real changes made)
(386,449 real changes made)
(27,285 real changes made)
(72,762 real changes made)
(919 real changes made)
(166,256 real changes made)
(369 real changes made)
(46,419 real changes made)
(46,244 real changes made)
(23 real changes made)
(103,442 real changes made)
(0 real changes made)
(1,333 real changes made)
(1 real change made)
(261 observations deleted)
(5,042 missing values generated)
(1,427,065 real changes made)
(351,738 real changes made)
(2,516 real changes made)
(15,104 real changes made)
(494,592 real changes made)
(126 real changes made)
(11,326 real changes made)
(0 real changes made)
(148,739 real changes made)
(149,077 real changes made)
(1,202,447 real changes made)
(213,179 real changes made)
(2,231 real changes made)
(111 real changes made)
(6,292 observations deleted)
(1,806 observations deleted)
(801 observations deleted)
(2,040 observations deleted)
(1,809 observations deleted)
(293 observations deleted)
(21 observations deleted)
(27 observations deleted)
(1 observation deleted)
(20 observations deleted)
(0 observations deleted)
(0 observations deleted)
(662 observations deleted)
(263 observations deleted)
(0 observations deleted)
(0 observations deleted)
(45 observations deleted)
(5,160 observations deleted)
(90 observations deleted)
(131 observations deleted)
(181 observations deleted)
(51 observations deleted)
(5 observations deleted)
(18 observations deleted)
(1 observation deleted)
file data/temp/tableSummary1.dta saved
file data/temp/temp1.dta saved
(1,148 observations deleted)
(0 observations deleted)
(775 missing values generated)
(139,478 real changes made)
(775 observations deleted)
(1,454,607 real changes made)
(2,860,647 real changes made)
(475,782 real changes made)
(34,739 real changes made)
(66,839 real changes made)
(1,178 real changes made)
(170,223 real changes made)
(285 real changes made)
(54,331 real changes made)
(52,470 real changes made)
(31 real changes made)
(118,068 real changes made)
(0 real changes made)
(1,951 real changes made)
(1 real change made)
(273 observations deleted)
(12,248 missing values generated)
(1,525,429 real changes made)
(391,285 real changes made)
(2,472 real changes made)
(14,894 real changes made)
(590,124 real changes made)
(70 real changes made)
(8,275 real changes made)
(3 real changes made)
(154,848 real changes made)
(155,142 real changes made)
(1,309,098 real changes made)
(216,758 real changes made)
(1,889 real changes made)
(406 real changes made)
(6,649 observations deleted)
(1,939 observations deleted)
(1,345 observations deleted)
(3,418 observations deleted)
(1,832 observations deleted)
(176 observations deleted)
(44 observations deleted)
(3 observations deleted)
(2 observations deleted)
(39 observations deleted)
(0 observations deleted)
(33 observations deleted)
(365 observations deleted)
(55 observations deleted)
(0 observations deleted)
(56 observations deleted)
(22 observations deleted)
(12,344 observations deleted)
(74 observations deleted)
(80 observations deleted)
(270 observations deleted)
(3 observations deleted)
(9 observations deleted)
(9 observations deleted)
(3 observations deleted)
file data/temp/tableSummary1.dta saved
file data/temp/temp1.dta saved
(variable ProviderCountry was str36, now str43 to accommodate using data's values)
(526 observations deleted)
(0 observations deleted)
(1,111 missing values generated)
(193,159 real changes made)
(1,111 observations deleted)
(1,574,078 real changes made)
(3,028,399 real changes made)
(564,235 real changes made)
(29,228 real changes made)
(83,606 real changes made)
(1,128 real changes made)
(184,129 real changes made)
(257 real changes made)
(45,497 real changes made)
(45,288 real changes made)
(29 real changes made)
(146,470 real changes made)
(10 real changes made)
(2,814 real changes made)
(4 real changes made)
(124 observations deleted)
(14,144 missing values generated)
(1,598,461 real changes made)
(429,470 real changes made)
(3,127 real changes made)
(16,316 real changes made)
(639,142 real changes made)
(106 real changes made)
(2,223 real changes made)
(6 real changes made)
(167,328 real changes made)
(167,926 real changes made)
(1,355,578 real changes made)
(211,343 real changes made)
(1,811 real changes made)
(177 real changes made)
(6,695 observations deleted)
(1,613 observations deleted)
(1,261 observations deleted)
(5,173 observations deleted)
(2,258 observations deleted)
(24 observations deleted)
(35 observations deleted)
(11 observations deleted)
(2 observations deleted)
(34 observations deleted)
(0 observations deleted)
(31 observations deleted)
(361 observations deleted)
(140 observations deleted)
(0 observations deleted)
(65 observations deleted)
(0 observations deleted)
(14,156 observations deleted)
(0 observations deleted)
(23 observations deleted)
(156 observations deleted)
(20 observations deleted)
(7 observations deleted)
(9 observations deleted)
(1 observation deleted)
(variable ProviderCountry was str43, now str50 to accommodate using data's values)
file data/temp/tableSummary1.dta saved
.         #delimit ;
delimiter now ;
.         use FOBValueUS CIFValueUS DeclarationDate  
>                 ProviderEmail
>                 ProductHS Provider ProviderCountry using data/confidential_data/datamyne/ColombiaImports2008, clear;
.                 drop if FOBValueUS==0 | CIFValueUS==0 |Provider=="";
(619 observations deleted)
.                 #delimit cr
delimiter now cr
.                 **year;
.                 gen year=year( DeclarationDate)
.                 keep if year==2008
(0 observations deleted)
.                 
.                                 ** fixing country names
.                 gen str3 prov=ProviderCountry
(2,830 missing values generated)
.                 replace ProviderCountry="ESPANIA" if prov=="ESP"
(56,334 real changes made)
.                 drop prov
.                 
.                 ** fixing firm name
.                 drop if Provider=="" |ProviderCountry=="" 
(2,830 observations deleted)
.                 gen Provider1=upper(Provider)
.                 replace Provider1 = subinstr(Provider1,".","",.)
(943,149 real changes made)
.                 replace Provider1 = subinstr(Provider1," ","",.)
(2,084,794 real changes made)
.                 replace Provider1 = subinstr(Provider1,",","",.)
(298,193 real changes made)
.                 replace Provider1 = subinstr(Provider1,"/","",.)
(20,336 real changes made)
.                 replace Provider1 = subinstr(Provider1,"-","",.)
(73,123 real changes made)
.                 replace Provider1 = subinstr(Provider1,";","",.)
(1,027 real changes made)
.                 replace Provider1 = subinstr(Provider1,"&","",.)
(122,310 real changes made)
.                 replace Provider1 = subinstr(Provider1,char(34),"",.)
(246 real changes made)
.                 replace Provider1 = subinstr(Provider1,"(","",.)
(32,538 real changes made)
.                 replace Provider1 = subinstr(Provider1,")","",.)
(32,408 real changes made)
.                 replace Provider1 = subinstr(Provider1,"@","",.)
(67 real changes made)
.                 replace Provider1 = subinstr(Provider1,"LLC","",.)
(58,731 real changes made)
.                 replace Provider1 = subinstr(Provider1,"?","",.)
(4 real changes made)
.                 replace Provider1 = subinstr(Provider1,"`","",.)
(633 real changes made)
.                 replace Provider1 = subinstr(Provider1,"}","",.)
(1 real change made)
.                 gen str12 Provider2=Provider1
.                 drop if Provider2=="DEPARTAMENTO"
(597 observations deleted)
.                 drop Provider1 Provider
.                 rename Provider2 Provider
.                 
.                 ** fixing email
.                 gen ProviderEmail1=upper(ProviderEmail)
(2,575 missing values generated)
.                 replace ProviderEmail1 = subinstr(ProviderEmail1,".","",.)
(1,080,490 real changes made)
.                 replace ProviderEmail1 = subinstr(ProviderEmail1," ","",.)
(276,803 real changes made)
.                 replace ProviderEmail1 = subinstr(ProviderEmail1,",","",.)
(3,774 real changes made)
.                 replace ProviderEmail1 = subinstr(ProviderEmail1,"/","",.)
(22,584 real changes made)
.                 replace ProviderEmail1 = subinstr(ProviderEmail1,"-","",.)
(336,692 real changes made)
.                 replace ProviderEmail1 = subinstr(ProviderEmail1,";","",.)
(261 real changes made)
.                 replace ProviderEmail1 = subinstr(ProviderEmail1,"&","",.)
(5,473 real changes made)
.                 replace ProviderEmail1 = subinstr(ProviderEmail1,char(34),"",.)
(2 real changes made)
.                 replace ProviderEmail1 = subinstr(ProviderEmail1,"(","",.)
(77,235 real changes made)
.                 replace ProviderEmail1 = subinstr(ProviderEmail1,")","",.)
(77,333 real changes made)
.                 replace ProviderEmail1 = subinstr(ProviderEmail1,"@","",.)
(911,953 real changes made)
.                 replace ProviderEmail1 = subinstr(ProviderEmail1,"FAX","",.)
(164,857 real changes made)
.                 replace ProviderEmail1 = subinstr(ProviderEmail1,":","",.)
(4,939 real changes made)
.                 replace ProviderEmail1 = subinstr(ProviderEmail1,"#","",.)
(1,477 real changes made)
.                 drop if ProviderEmail1=="NOTIENE"
(8,946 observations deleted)
.                 drop if ProviderEmail1=="NOREPORTA"
(1,016 observations deleted)
.                 drop if ProviderEmail1=="NOREGISTRA"
(498 observations deleted)
.                 drop if ProviderEmail1=="NOAPLICA"
(680 observations deleted)
.                 drop if ProviderEmail1=="SINNUMERO"
(737 observations deleted)
.                 drop if ProviderEmail1=="NOREPORTAHOTMAILCOM"
(5 observations deleted)
.                 drop if ProviderEmail1=="NO"
(69 observations deleted)
.                 drop if ProviderEmail1=="NOPRESENTA"
(197 observations deleted)
.                 drop if ProviderEmail1=="3055935515"
(6 observations deleted)
.                 drop if ProviderEmail1=="NOAMERITA"
(356 observations deleted)
.                 drop if ProviderEmail1=="3058712865"
(122 observations deleted)
.                 drop if ProviderEmail1=="44443866"
(0 observations deleted)
.                 drop if ProviderEmail1=="SN"
(137 observations deleted)
.                 drop if ProviderEmail1=="NOEMAIL"
(216 observations deleted)
.                 drop if ProviderEmail1=="6676266"
(42 observations deleted)
.                 drop if ProviderEmail1=="3218151297"
(0 observations deleted)
.                 drop if ProviderEmail1=="3218151311"
(0 observations deleted)
.                 drop if ProviderEmail1==""
(2,628 observations deleted)
.                 drop if ProviderEmail1=="ND"
(15 observations deleted)
.                 drop if ProviderEmail1=="NOMANIFIESTA"
(0 observations deleted)
.                 drop if ProviderEmail1=="1"
(13 observations deleted)
.                 drop if ProviderEmail1=="0000000000"
(17 observations deleted)
.                 drop if ProviderEmail1=="0"
(17 observations deleted)
.                 drop if ProviderEmail1=="1234567890"
(485 observations deleted)
.                 drop if ProviderEmail1=="N"
(3 observations deleted)
.                 gen str12 ProviderEmail2=ProviderEmail1
.                 drop ProviderEmail ProviderEmail1
.                 rename ProviderEmail2 ProviderEmail
.                 
.                 ** gen Ntrans, Ncountries, NFirms, Nproducts by firm year
.                 bysort ProviderCountry Provider year: gen NtransFirm=_N
.                 egen Valuefob=sum(FOBValueUS), by(ProviderCountry Provider year)
.                 egen Valuecif=sum(CIFValueUS), by(ProviderCountry Provider year)
.                 
.                 collapse (mean) Ntrans Valuefob Valuecif, by(ProductHS Provider ProviderCountry ProviderEmail year)
.         if 1{
.                 gen Nvarieties=_N
.                 egen k=group(ProductHS)
.                 egen NproductsHS=max(k)
.                 drop k
.                 egen k=group(ProviderCountry)
.                 egen Ncountries=max(k)
.                 
.                 collapse (mean) Ntrans Valuefob Valuecif Nvarieties Ncountries Nproducts, by(year Provider ProviderEmail ProviderCountry)
.         }       
.                 append using data/temp/tableSummary1
(variable ProviderCountry was str36, now str50 to accommodate using data's values)
.                 collapse (mean) Ntrans Valuefob Valuecif, by(Provider ProviderCountry ProviderEmail year)
. 
.                 save data/temp/tableSummary1, replace
file data/temp/tableSummary1.dta saved
. }
. 
. 
. 
. use data/temp/tableSummary1     
. 
. sort ProviderCountry Provider
. egen TNtransactionsFirm=sum(Ntr), by(ProviderCountry Provider) 
. duplicates drop 

Duplicates in terms of all variables

(0 observations are duplicates)
. 
. sort ProviderEmail Provider ProviderCountry year
. egen group_cey=group(ProviderEmail ProviderCountry year)
. 
. 
. bysort group_cey: gen Nrepeats=_N
. 
. sort group_cey TNtransactionsFirm Provider 
. 
. by group_cey : gen identifier=_n
. save data/temp/temp1, replace
file data/temp/temp1.dta saved
. }

. 
. 
. 
. 
. 
. 
. if 1{
.         ** for 2 duplicates
.         use data/temp/temp1, clear
.         
.         
. 
. 
.         keep if Nrepeats==2
(820,327 observations deleted)
.         ** reshaping
.         reshape wide Provider year NtransFirm Valuefob Valuecif TNtransactionsFirm, i(group) j(identifier)
(j = 1 2)

Data                               Long   ->   Wide
-----------------------------------------------------------------------------
Number of observations          107,592   ->   53,796      
Number of variables                  11   ->   16          
j variable (2 values)        identifier   ->   (dropped)
xij variables:
                               Provider   ->   Provider1 Provider2
                                   year   ->   year1 year2
                             NtransFirm   ->   NtransFirm1 NtransFirm2
                               Valuefob   ->   Valuefob1 Valuefob2
                               Valuecif   ->   Valuecif1 Valuecif2
                     TNtransactionsFirm   ->   TNtransactionsFirm1 TNtransactionsFirm2
-----------------------------------------------------------------------------
.         strdist Provider1 Provider2, gen(strdist)
Hint: From Stata 14 onwards, use of the unicode-compatible ustrdist method is recommended.
.         keep if strdist<=4
(26,455 observations deleted)
.         keep Provider1 Provider2 ProviderCountry 
.         rename Provider1 Provider
.         duplicates drop

Duplicates in terms of all variables

(7,585 observations deleted)
.         gen ind=2
.         drop if Provider=="TYROBES" |Provider=="ALLAFRANCESA" |Provider=="TECNOBLUCLAB"  |Provider=="NYLACASTENGI"
(1 observation deleted)
.         save data/temp/Nrepeats2, replace
(file data/temp/Nrepeats2.dta not found)
file data/temp/Nrepeats2.dta saved
. 
. }

. 
. 
. 
. if 1{
.         ** for 3 duplicates New
.         use data/temp/temp1, clear
. 
.         keep if Nr==3
(902,998 observations deleted)
. 
.         ** reshaping
.         reshape wide Provider year NtransFirm Valuefob Valuecif TNtransactionsFirm, i(group) j(identifier)
(j = 1 2 3)

Data                               Long   ->   Wide
-----------------------------------------------------------------------------
Number of observations           24,921   ->   8,307       
Number of variables                  11   ->   22          
j variable (3 values)        identifier   ->   (dropped)
xij variables:
                               Provider   ->   Provider1 Provider2 Provider3
                                   year   ->   year1 year2 year3
                             NtransFirm   ->   NtransFirm1 NtransFirm2 NtransFirm3
                               Valuefob   ->   Valuefob1 Valuefob2 Valuefob3
                               Valuecif   ->   Valuecif1 Valuecif2 Valuecif3
                     TNtransactionsFirm   ->   TNtransactionsFirm1 TNtransactionsFirm2 TNtransactionsFirm3
-----------------------------------------------------------------------------
.         strdist Provider1 Provider2, gen(strdist)
Hint: From Stata 14 onwards, use of the unicode-compatible ustrdist method is recommended.
.         keep if strdist<=4
(4,889 observations deleted)
.         keep Provider1 Provider2 ProviderCountry 
.         rename Provider1 Provider
. 
. 
.         keep if (Provider=="AIRCOL13" |Provider=="ALVARADO" |Provider=="AROHMAR4SINT" |Provider=="AVSALEASING2" |Provider=="BAKEPARTNER"  |Provider=
> ="BBBLACBOARDI" |Provider=="CHANGXINGHEW" |Provider2=="CHILESINSAEQ"  |Provider=="CREATIVEBALL" |Provider=="GUANGSHOUXIN" |Provider=="HONSONGROUPC" 
> |Provider2=="JODUPREBVBAY" |Provider=="JPNHARMAPVTL" |Provider=="MRSZIGETI" |Provider2=="MOOGFERNAULI" |Provider=="MOGGFERNAULT" |Provider=="JDTSSVC
> INC" |Provider2=="NORTHBAYINT" |Provider2=="PANAZURZONAL" |Provider=="PERUVIANWILB" |Provider=="PRECISIONBRU" | Provider2=="SZIGETI" ||Provider2=="S
> ICTIASASCAP" |Provider=="FISHERPANDAG" |Provider2=="WOLVERINETUB" |Provider=="XPSTREMEPERF" | Provider=="YAKANASHIHIT")
(3,398 observations deleted)
.         duplicates drop

Duplicates in terms of all variables

(0 observations are duplicates)
.         gen ind=312
.         save data/temp/Nrepeats3_12, replace
(file data/temp/Nrepeats3_12.dta not found)
file data/temp/Nrepeats3_12.dta saved
. 
. }

. 
. 
.         
. if 1{
.         ** for 3 duplicates
.         use data/temp/temp1, clear
.         keep if Nr==3
(902,998 observations deleted)
. 
.         ** reshaping
.         reshape wide Provider year NtransFirm Valuefob Valuecif TNtransactionsFirm, i(group) j(identifier)
(j = 1 2 3)

Data                               Long   ->   Wide
-----------------------------------------------------------------------------
Number of observations           24,921   ->   8,307       
Number of variables                  11   ->   22          
j variable (3 values)        identifier   ->   (dropped)
xij variables:
                               Provider   ->   Provider1 Provider2 Provider3
                                   year   ->   year1 year2 year3
                             NtransFirm   ->   NtransFirm1 NtransFirm2 NtransFirm3
                               Valuefob   ->   Valuefob1 Valuefob2 Valuefob3
                               Valuecif   ->   Valuecif1 Valuecif2 Valuecif3
                     TNtransactionsFirm   ->   TNtransactionsFirm1 TNtransactionsFirm2 TNtransactionsFirm3
-----------------------------------------------------------------------------
.         strdist Provider1 Provider3, gen(strdist)
Hint: From Stata 14 onwards, use of the unicode-compatible ustrdist method is recommended.
.         keep if strdist<=4
(4,664 observations deleted)
.         keep Provider1 Provider3 ProviderCountry 
.         rename Provider3 Provider2
.         rename Provider1 Provider
.         duplicates drop

Duplicates in terms of all variables

(434 observations deleted)
.         drop if Provider=="CHEFANGDA" |Provider=="CREATIVEBALL"  |Provider=="FISHERPANDAG" |Provider=="INDEXNINDUSA" |Provider=="MANZONAHONEY" |Prov
> ider=="PRECISIONBRU" |Provider=="XPSTREMEPERF" |Provider=="TECNOBLUCLAB" |Provider=="UNIPACKSACOC"
(6 observations deleted)
.         gen ind=31
. 
.         save data/temp/Nrepeats3_1, replace
(file data/temp/Nrepeats3_1.dta not found)
file data/temp/Nrepeats3_1.dta saved
. }

. 
. if 1{
.         ** for 3 duplicates
.         use data/temp/temp1, clear
.         keep if Nr==3
(902,998 observations deleted)
. 
.         ** reshaping
.         reshape wide Provider year NtransFirm Valuefob Valuecif TNtransactionsFirm, i(group) j(identifier)
(j = 1 2 3)

Data                               Long   ->   Wide
-----------------------------------------------------------------------------
Number of observations           24,921   ->   8,307       
Number of variables                  11   ->   22          
j variable (3 values)        identifier   ->   (dropped)
xij variables:
                               Provider   ->   Provider1 Provider2 Provider3
                                   year   ->   year1 year2 year3
                             NtransFirm   ->   NtransFirm1 NtransFirm2 NtransFirm3
                               Valuefob   ->   Valuefob1 Valuefob2 Valuefob3
                               Valuecif   ->   Valuecif1 Valuecif2 Valuecif3
                     TNtransactionsFirm   ->   TNtransactionsFirm1 TNtransactionsFirm2 TNtransactionsFirm3
-----------------------------------------------------------------------------
.         strdist Provider2 Provider3, gen(strdist)
Hint: From Stata 14 onwards, use of the unicode-compatible ustrdist method is recommended.
.         keep if strdist<=4
(5,116 observations deleted)
.         keep Provider2 Provider3 ProviderCountry 
.         rename Provider2 Provider
.         rename Provider3 Provider2
.         duplicates drop

Duplicates in terms of all variables

(694 observations deleted)
.         drop if Provider=="AIRCOL14" |Provider=="AVSALEASING3" |Provider=="MOOGFERNAULI" |Provider=="UNIPACKSACOC" |Provider=="YAMANASHIHIT"
(5 observations deleted)
.                 gen ind=32
. 
.         save data/temp/Nrepeats3_2, replace
(file data/temp/Nrepeats3_2.dta not found)
file data/temp/Nrepeats3_2.dta saved
.         
. 
. 
. }

. 
. 
. 
. append using data/temp/Nrepeats3_12

. append using data/temp/Nrepeats3_1

. append using data/temp/Nrepeats2

. duplicates drop

Duplicates in terms of all variables

(0 observations are duplicates)

. 
. 
. 
. *Making sure that providers with different variants are converging to one variant
. drop if (Provider=="BBBLACBOARDI" |Provider=="CHANGXINGHEW"   |Provider=="JDTSSVCINC"   ) & ind!=312
(3 observations deleted)

. 
. 
. expand 2 if Provider=="MSSHKELKARCO" |Provider=="ALPHARMAANIM" |Provider=="MIDORIIIINC" |Provider=="SLANTFINCORP"
(4 observations created)

. 
. bysort Provider Provider2 ProviderCountry : gen N1=_n

. foreach x in "AROHMARSINTE" "ARTICTTCS" "ALPHARMAANIM" "AXOMATICGROU" "MIDORIIIINC" "JPNPHARMAPVT" "MSSHKELKARCO"       "SLANTFINCORP" "TECNOBLUINDC
> "{ 
  2.         gen holder=Provider if Provider=="`x'" & N1==2
  3.         replace Provider=Provider2 if Provider=="`x'" &  N1==2
  4.         replace Provider2=holder if holder=="`x'" &  N1==2
  5.         drop holder
  6. }
(25,470 missing values generated)
(1 real change made)
(1 real change made)
(25,470 missing values generated)
(1 real change made)
(1 real change made)
(25,470 missing values generated)
(1 real change made)
(1 real change made)
(25,470 missing values generated)
(1 real change made)
(1 real change made)
(25,470 missing values generated)
(1 real change made)
(1 real change made)
(25,470 missing values generated)
(1 real change made)
(1 real change made)
(25,470 missing values generated)
(1 real change made)
(1 real change made)
(25,470 missing values generated)
(1 real change made)
(1 real change made)
(25,470 missing values generated)
(1 real change made)
(1 real change made)

. 
. 
. 
.                 
. drop N1

. bysort Provider Provider2 ProviderCountry : gen N1=_n

. drop if N1>1
(1,960 observations deleted)

. 
. 
. 
. bysort Provider ProviderCountry: gen N=_N

. drop if N>1 & Provider!="AIRCOL13" & Provider2!="AROHMARSINTE" &Provider!="AVSALEASING2" &Provider!="CHRISTIEHOUS" &Provider!="CHILESINSAEQ" &Provid
> er!="CREATIVEBALL" & Provider!="FISHERPANDAG"  & Provider!="NORTHBAYINT" &Provider!="MRSZIGETI" & Provider!="MOOGFERNAULI" & Provider!="MOGGFERNAULT
> "  & Provider!="MESOESTETIC" & Provider!="MESOESTETIC" & Provider!="ARTICTTCS" & Provider!="NORTHBAYINT"  & Provider!="PANAZURZONAL" &Provider!="PRE
> CISIONBRU" &Provider!="XPSTREMEPERF"
(726 observations deleted)

. drop N N1

. duplicates drop

Duplicates in terms of all variables

(0 observations are duplicates)

. 
. 
. 
. 
. 
. 
. 
. *Switchign names for Provider and the other variant of porvider to reflect a more used name ot be Provider
. 
. local firms2 "ABBNVPOWERQU AIRCOL13     ARMATEKS        ARTHURSKOCIN    AVSALEASING2    BRYAIR ALMACENELPIM     AROHMAR4SINT    ARTHURSKOCIN    AXES
> STELINC     BELMARBISTIC    BRAISOGONA      BRAUNSHARING    BRYAIR  CAAYMANCHEMI    CAMFILFARRAI    CANUSAPAPERA    CAVALEROPLAS    CERAMICANOVA    
> CHELUMBEINTE    CHILDRENSPLU    CHRISTIESHOU    CLIMASTAREFF    CONSORCIOGMC    CREATIVEBALL    CREATIVEDIST    DAMBYPRODUCT    DANIELSDIECU    DELT
> ABOX        DILFIELDSERV    DUALTIMEINTE    EARLLEVALLOI    EASOLUTIONSS    ECOPACK EDILTECOSRI     EEUROSICSL      ELIZABETHPLE    EMMEGEMSAS      
> ENEREGETICTE    ETSAMYOT        GARLANDSALEI    GATEWAYSYSTE    GEMSUMFRESHL    GHUANGZHOUHU    GLADEKSA        GOBBETTOSRL     GONZAGARREDI    HENN
> ESSYGRAD    HERSON�SHOND  HIELSCHERUNT    HKSHUNCENGTR    HUANGSHIHOND    HUNANXINHAII    HWASEUGNETWO    IDARELECTRON    IDEXPORT        IDMCIMPRES
> UB    IFEELEVATORC    IIRSACERO       IKNINC  IMPESAESPORT    INTENSUSEGIN    IOLMOPTHETOT    ISIDROTORIBI    JAFFSONENTER    JCIMPORTACIO    JERRY4
> SFORDS    JOHNMILLSINT    JOSEMMEDINAC    KELLYCOLORDS    KMPLANTHIRES    KUMHOTIRESUS    LIAONINGYING    LIFESUCCESPR    LOILAINC        MACCHINAMA
> CI    MACQUAIREBAN    MAGICKINDOMI    MARKETLOGICT    MCDOWELLBORT    MEIJEILABELP    METALISESTUN    MICROMED                MIMET   MONTRESMICHE  
>   MSLEDATORSCH    MTVNETWORKAV    N*TECCONSTRU    NAYAX   NBITEENISEDO    NEUMANMACHIN    NILKANTHORGA    NINGBONATIVE    NITROBICFORD    O4DRLLMCMI
> NC    OFFICEOFOVER    OFFICINEELEC    ONGGRONGSUND    OSCARSAUTOSA    PAISTEGMBHCO            PARAGONTECHN    PDMEXPORTTRA    PROMOCOMPO      QINGDA
> OPARTN    RCIMPORT%EXP    REDCOM  SANIFRUTTASO    SERVERWOLDS     SEVENWELLSIN    SHANGAIHUIXU    SHANGAILOHUI    SHANGHAICOMP    SHANGHAIRYUA      
>       SNCOTINGSTAR    SOCEIDADINTD    SOCIEDADDEIW    SOLITAIREFAS    SOTRTHEASTPR    SPKPROCESSAQ    TACTICS2000S    TEXASOILFIEL    THEKEMWALLEN  
>   TODOPAKSDERL    TOEIREEFERLI    TOPEYACCESOR    TRAFIFURAAGB    UNIPACKSACOC    VERISIGN        VICKOSAERODI    XLEQUIPMENTI            XPXTREMEPE
> RF    YAKANASHIHIT            ZHEGIANGHORD    ACCESORIESGE    ACCOIN  ADVANCEDMARK AIMSPOWERCOR  ACTARISLTDA AFFORDABLETO AIRSTARSA AISISCORPORA ALA
> DNANFOREX ALCEREXPORTC ALLERGAN APPLIANCESEN AQUATROLINC ARESLINESPA AREVATYDHIGH ARVITECHILER ARYZTA ASIATECHGBSG ASSDJOSEJATE ATACPLASTIKM AUTOLAB
> OR AVIANCATACA AXXONFASESUZ BBBLACKBOARD BESTCHOISEMO BIGPRINT BIOFUELTECHN BOCSAVSASDIB BOREALISAG BOSHEDITOR BPSERVICEREP BRODWAYBELTS BWIERRUMGRA
> V BYDEEOLOSANG CANEXCOLEXPO CARLOSBORJAE CARLTSOESAFE CASDITSRL CASTNYLONSLI CATERCHEMGBM CAVEDERIBEAU CEINTERNATIO CENTRONESNC CHANGXINGHAO CHANGZH
> OUASC CHATEAUDAXSP CHENTRONICSC CIXIYOUNGYEF CMCMAGNETICS CODIANINC COGNISIMPECO COMPUTACERTE COTECPACKAMG CTPRODUCTSLI DACBOMACHINA  DAQUINTERRAC  
>   DEMBURINC       DESINGHOUSES    DINLARENTRAD    DISTEXSA        DNBHUMIDIFIE    DOMINIOSIMAG    DRDRUGRESEAR    DUALLIFTGMBH    DUCHEMWORLD     DY
> NAMICMACHI    EDMEDISYSEXP    EDOMYHEALTCA    EHKTECHNOLOG    EMBRACONORTA    EQUIMENTTRUC    ERLENBACHGMB    EUROTEST        EXPOELECPOTE    EXTERR
> AN        FACTRIONICOR    FAGIAXACESSO    FAPLISAFABRI    FERRETERIASE FISCHERPANDA       FINDTAPECOM     FLORIDATRAID    FORALCONCEPT    FRIEMSDA  
>       FROTEKUKLTD     FRUITDORINC     FUELBELTUSA     FUHRMEISTE      GANESHAEXPO     GEIGRUPOESSE    GENERANTCOMP    GINGOADAIZHI    GLGDIMURAIRL  
>   GORBREXMACHI    GOSAGSAUNIPE    GREENTEXCORP    GRUPONOVEMSI    GUANGZHOUDOH    GUANGZHOUSPI    GVISAMSUNGEL    HACIENDASMAR    HANNOVERMEXI    HA
> RRYSEIDNER    HBFULLERIASR    HELINTERNATI    HOHNER  HOLLOWELPROD    HSHOOGERHUIL IBEXPARTS  ICCOACCESORI    IMDCHINACOLT    INFOTECHNYIN    INNOVA
> TIONBE    INTERPACKITA    INTERPORTINT    INVESTORTRUS    JACKSONMSC      JARLWAYXINXI    JAVIERMERINO    JDTSVCINC       JIAXINGJUNYE    JNEQUIPAME
> NT    JOALCATRADIN    JODUPREBVBAY    KEESAMGCORPO    KIMALMACKING    KRONOPLY        LANCOHARRIEC    LEADLIGHTING    LGCWIRELESAN    LOGICAIRGROU  
>   LPGTECHLTD      LPRINOSFOODS    LUCKYGEMSJAW    LUZDELARIVAB    MAMUNDOVARIE    MERCEDESAMPA    MERCHANTEXPO    MERCONCOFFEC            MICROENVAS
> E     MICROINC        MIINTERNATIO MOGGFERNAULT       MQUINARIAYTR     MRSZIGETI      MSCFAREASTIN    MSMARKANSASP    NANMATTECHON    NANYIINTLLIG  
>   NETWORLDIT      NGRPROCESSSO    NIGOCERAMICL    NINGBOHENGEL    NOBLEHARVESC    NORMABARRECA    NUCLETRONOPE    OILFIELDEQUI    ONLINESALE      P3
> INTERNACIO PANAZURZONAL       PATMSAPPAREL    PAVIOERICCHR    PEACECORPSHE    PEDROLLOOFFL    PEINEMANNEQU    PENGOCOKATE     PHELPSDODGEC    PHILXN
>   PICCHIGROUPS    PJBAKERY3021    POWEREX POWERSTREMTE    PRENSOLAND      PROTECHNO       PUREH2OTECHN    QINGDAOEMPCO    QUANTUMDESIN    QUESTINT4L
> AD    RAJRAYONLTD     REYNALDOARIE    RIOTINTO        ROCELSHKING     ROWDENYSONS     RTDHALLSTARI    RUGUISLU        RUIANYUZHOUA    RUKSHMANISYB  
>   SAFARIMIAMIL    SAMARTHOMEPR    SAMPEXINDCOM    SANIGNACIOKI    SCHIRTSCOLLE    SCHUSTERAUTO    SCHWIHAGAG      SEEBECKINSTR    SERVICIOSPAC    SH
> ANGAIOMNIL    SHANGHAIRAQI    SHANTOULIANT    SHAOXINGBAOF    SHENYANGFUSH    SHENZENARTLO    SHOLLELTDA      SICTIASASCAP    SIMANSTONES     SJAFIL
> MTECHN    SKINNTECHNOL    SKYSTREANNET    SOCINCER21SA    SODEMDIFUSSI    SONACVUREN      SPORTLINEIND    SPORTSPARNER    SPREAFICOFRA    SRKCONSULT
> IN    SS8NETWORKS     STEELCANADAL    SYNCHRATECH     TECHNICALAND    TECHNICOLORD    TECNOPOWERSY    THBALTESGMBH    THESERVICECE    THEUNDERSECR  
>   TITANWHEELIN    TRACFONE        TREVIICOS       TROOSTWIJKAG    TTWORLDWIDEC    TYGCORPORATI    UNILEVELINTL    USANETWORKBN    USIMECAUSINA    VA
> LTERDOMINA    VENCOREXCHEM    VERTISOL        VIBRODYNAMIC    VIBROMAQBIGG    VICTORYINTLS    VILLAD4AGRIS    VIVOTECH        VOLCUERSRL      WATANA
> BEINDE    WESTICATVSUP    WESTLEYPLAST    WHIRLPOOLPER    WILLIANBRUDO    WILLMORSA       WINNERVALVES    WORLWIDE        WYNNSTARR       YIWUSHUNXI
> N     ZHEJIANTAIJI    ZHONGSHANOFF "

. 
. foreach x of local firms2 {
  2.         gen holder=Provider if Provider=="`x'"
  3.         replace Provider=Provider2 if Provider=="`x'"
  4.         replace Provider2=holder if holder=="`x'"
  5.         drop holder
  6. }
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,783 missing values generated)
(2 real changes made)
(2 real changes made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,783 missing values generated)
(2 real changes made)
(2 real changes made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,783 missing values generated)
(2 real changes made)
(2 real changes made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,783 missing values generated)
(2 real changes made)
(2 real changes made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,783 missing values generated)
(2 real changes made)
(2 real changes made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)

. 
. 
. 
. local firms2 "AROHMAR4SINT CHILESINLTDA CHRISTIESHOU MESOESTETICU NORTHBAYINTL  PRECISIONPLA SOCIETATESSI "

. 
. foreach x of local firms2 {
  2.         gen holder=Provider2 if Provider2=="`x'" & Provider!="CHISTIESHOUS"
  3.         replace Provider2=Provider if Provider2=="`x'" & Provider!="CHISTIESHOUS"
  4.         replace Provider=holder if holder=="`x'" & Provider!="CHISTIESHOUS"
  5.         drop holder
  6. }
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,784 missing values generated)
(1 real change made)
(1 real change made)
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)

. 
. *Rearranging Providers with unclear symbols "?"
.                 
. gen str4 ProviderStr4=Provider

. gen str6 ProviderStr6= Provider

. local firms4 "TITO"

. foreach x of local firms4 {
  2.         gen holder=Provider if ProviderStr4=="`x'"
  3.         replace Provider=Provider2 if ProviderStr4=="`x'"
  4.         replace Provider2=holder if ProviderStr4=="`x'"
  5.         drop holder
  6. }
(22,784 missing values generated)
(1 real change made)
(1 real change made)

. 
. 
. local firms6 "GRADDY "

. foreach x of local firms6 {
  2.         gen holder=Provider if ProviderStr6=="`x'"
  3.         replace Provider=Provider2 if ProviderStr6=="`x'"
  4.         replace Provider2=holder if ProviderStr6=="`x'"
  5.         drop holder
  6. }
(22,785 missing values generated)
(0 real changes made)
(0 real changes made)

. 
. 
. 
. *Dealing with Providers with similar names but in different countries
. 
. gen holder=Provider if Provider=="D2MASQ" & ProviderCountry=="ITALIA"
(22,785 missing values generated)

.         replace Provider=Provider2 if Provider=="D2MASQ" & ProviderCountry=="ITALIA"
(0 real changes made)

.         replace Provider2=holder if holder=="D2MASQ" & ProviderCountry=="ITALIA"
(0 real changes made)

.         drop holder

. 
.         gen holder=Provider if Provider=="SPEDITIONHOO" & ProviderCountry=="ALBANIA"
(22,784 missing values generated)

.         replace Provider=Provider2 if Provider=="SPEDITIONHOO" & ProviderCountry=="ALBANIA"
(1 real change made)

.         replace Provider2=holder if holder=="SPEDITIONHOO" & ProviderCountry=="ALBANIA"
(1 real change made)

.         drop holder

.         
.         gen holder=Provider if Provider=="PANASONICAVC" & ProviderCountry=="MALAYSIA"
(22,784 missing values generated)

.         replace Provider=Provider2 if Provider=="PANASONICAVC" & ProviderCountry=="MALAYSIA"
(1 real change made)

.         replace Provider2=holder if holder=="PANASONICAVC" & ProviderCountry=="MALAYSIA"
(1 real change made)

.         drop holder

.         
.                 gen holder=Provider if Provider=="TROYINTERNAC" & ProviderCountry=="TAILANDIA"
(22,784 missing values generated)

.         replace Provider=Provider2 if Provider=="TROYINTERNAC" & ProviderCountry=="TAILANDIA"
(1 real change made)

.         replace Provider2=holder if holder=="TROYINTERNAC" & ProviderCountry=="TAILANDIA"
(1 real change made)

.         drop holder

. 
. 
. sort Provider Provider2 ProviderCountry

. drop ProviderStr*

. 
. save data/temp/firms_clean, replace
(file data/temp/firms_clean.dta not found)
file data/temp/firms_clean.dta saved

. 
. erase data/temp/tableSummary1.dta

. erase data/temp/temp1.dta

. erase data/temp/Nrepeats3_12.dta

. erase data/temp/Nrepeats3_1.dta

. erase data/temp/Nrepeats3_2.dta

. erase data/temp/Nrepeats2.dta

. 
. 
. 
. 
. 
. 
end of do-file
. do code/data_prep/1-merge_raw_import_data // merge raw data for years 2007-2013

. clear

. 
. foreach x in 2007 2009 2010 2011 2012 2013 {
  2.         
. use "data/confidential_data/datamyne/ColombiaImports`x'_1.dta"
  3. append using "data/confidential_data/datamyne/ColombiaImports`x'_2.dta", force
  4. keep VATPercent TariffPercent ExchangeRate CustomsValueTariffBase CIFValueUS FOBValueUS Valuetobepay Quantity GrossWeight NetWeight ProductHS Cou
> ntryofOrigin ProviderCountry Provider DeclarationDate 
  5. 
.                         ** fixing country names
.                         gen str3 prov=ProviderCountry
  6.                         replace ProviderCountry="ESPANIA" if prov=="ESP"
  7.                         drop prov
  8.                         
.                         drop if Provider=="" |ProviderCountry=="" 
  9.                         gen Provider1=upper(Provider)
 10.                         replace Provider1 = subinstr(Provider1,".","",.)
 11.                         replace Provider1 = subinstr(Provider1," ","",.)
 12.                         replace Provider1 = subinstr(Provider1,",","",.)
 13.                         replace Provider1 = subinstr(Provider1,"/","",.)
 14.                         replace Provider1 = subinstr(Provider1,"-","",.)
 15.                         replace Provider1 = subinstr(Provider1,";","",.)
 16.                         replace Provider1 = subinstr(Provider1,"&","",.)
 17.                         replace Provider1 = subinstr(Provider1,char(34),"",.)
 18.                         replace Provider1 = subinstr(Provider1,"(","",.)
 19.                         replace Provider1 = subinstr(Provider1,")","",.)
 20.                         replace Provider1 = subinstr(Provider1,"@","",.)
 21.                         replace Provider1 = subinstr(Provider1,"LLC","",.)
 22.                         replace Provider1 = subinstr(Provider1,"?","",.)
 23.                         replace Provider1 = subinstr(Provider1,"`","",.)
 24.                         replace Provider1 = subinstr(Provider1,"}","",.)
 25.                         gen str12 Provider2=Provider1
 26.                         drop Provider1 Provider
 27.                         rename Provider2 Provider
 28.                         
.                         sort Provider ProviderCountry
 29.                         merge m:1 Provider ProviderCountry using data/temp/firms_clean
 30.                         replace Provider=Provider2 if _m==3
 31.                         drop if _m==2
 32.                         drop _m Provider2
 33.                         compress
 34.                         
. keep VATPercent TariffPercent ExchangeRate CustomsValueTariffBase CIFValueUS FOBValueUS Valuetobepay Quantity GrossWeight NetWeight ProductHS Countr
> yofOrigin Provider DeclarationDate 
 35. gen year=year(DeclarationDate)
 36. gen month=month(DeclarationDate)
 37. drop DeclarationDate
 38.                                         
. save data/temp/colombiaimports`x', replace
 39. }
(variable CustomsCity was str40, now str70 to accommodate using data's values)
(variable Municipality was str13, now str22 to accommodate using data's values)
(variable ProviderCountry was str29, now str30 to accommodate using data's values)
(variable Flag was str29, now str30 to accommodate using data's values)
(variable UniqueKey was str9, now str17 to accommodate using data's values)
(variable VATPercent was str5, now str6 to accommodate using data's values)
(variable OthersPercent was str4, now str6 to accommodate using data's values)
(variable OthersTotalValue was byte, now long to accommodate using data's values)
(3,495 missing values generated)
(50,627 real changes made)
(3,499 observations deleted)
(971,848 real changes made)
(2,102,329 real changes made)
(294,965 real changes made)
(19,584 real changes made)
(69,565 real changes made)
(420 real changes made)
(119,787 real changes made)
(81 real changes made)
(31,150 real changes made)
(30,974 real changes made)
(42 real changes made)
(51,831 real changes made)
(4 real changes made)
(1,103 real changes made)
(4 real changes made)
(variable ProviderCountry was str30, now str50 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     2,045,175
        from master                 2,029,102  (_merge==1)
        from using                     16,073  (_merge==2)

    Matched                           107,815  (_merge==3)
    -----------------------------------------
(107,815 real changes made)
(16,073 observations deleted)
  variable ind was float now int
  variable ProviderCountry was str50 now str30
  (47,012,174 bytes saved)
(file data/temp/colombiaimports2007.dta not found)
file data/temp/colombiaimports2007.dta saved
(variable Municipality was str14, now str22 to accommodate using data's values)
(variable Flag was str29, now str30 to accommodate using data's values)
(variable UniqueKey was str17, now str18 to accommodate using data's values)
(variable TariffPercent was str5, now str6 to accommodate using data's values)
(variable VATTotalValue was str10, now str11 to accommodate using data's values)
(2,281 missing values generated)
(66,974 real changes made)
(2,286 observations deleted)
(901,110 real changes made)
(1,947,323 real changes made)
(278,352 real changes made)
(19,426 real changes made)
(68,200 real changes made)
(746 real changes made)
(128,340 real changes made)
(338 real changes made)
(32,737 real changes made)
(32,654 real changes made)
(26 real changes made)
(61,497 real changes made)
(3 real changes made)
(876 real changes made)
(1 real change made)
(variable ProviderCountry was str36, now str50 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     1,908,499
        from master                 1,891,421  (_merge==1)
        from using                     17,078  (_merge==2)

    Matched                            82,365  (_merge==3)
    -----------------------------------------
(82,365 real changes made)
(17,078 observations deleted)
  variable ind was float now int
  variable ProviderCountry was str50 now str36
  (31,580,576 bytes saved)
(file data/temp/colombiaimports2009.dta not found)
file data/temp/colombiaimports2009.dta saved
(note: variable EconomicActivity was byte in the using data, but will be str100 now)
(variable CustomsDeclarationNumber was str15, now str16 to accommodate using data's values)
(variable Flag was str29, now str32 to accommodate using data's values)
(variable VATPercent was str5, now str6 to accommodate using data's values)
(1,355 missing values generated)
(104,527 real changes made)
(1,363 observations deleted)
(1,161,586 real changes made)
(2,332,861 real changes made)
(329,165 real changes made)
(24,171 real changes made)
(67,067 real changes made)
(922 real changes made)
(158,963 real changes made)
(260 real changes made)
(43,125 real changes made)
(42,990 real changes made)
(15 real changes made)
(83,554 real changes made)
(2 real changes made)
(1,211 real changes made)
(0 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     2,300,263
        from master                 2,283,282  (_merge==1)
        from using                     16,981  (_merge==2)

    Matched                            81,272  (_merge==3)
    -----------------------------------------
(81,272 real changes made)
(16,981 observations deleted)
  variable ind was float now int
  (4,729,108 bytes saved)
(file data/temp/colombiaimports2010.dta not found)
file data/temp/colombiaimports2010.dta saved
(variable ImporterDepartment was str35, now str36 to accommodate using data's values)
(variable CustomsDeclarationNumber was str15, now str16 to accommodate using data's values)
(variable LegalRepresentativeName was str60, now str62 to accommodate using data's values)
(189 missing values generated)
(117,298 real changes made)
(190 observations deleted)
(1,325,150 real changes made)
(2,652,430 real changes made)
(386,510 real changes made)
(27,288 real changes made)
(72,780 real changes made)
(919 real changes made)
(166,272 real changes made)
(369 real changes made)
(46,424 real changes made)
(46,249 real changes made)
(23 real changes made)
(103,450 real changes made)
(0 real changes made)
(1,333 real changes made)
(1 real change made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     2,624,988
        from master                 2,608,561  (_merge==1)
        from using                     16,427  (_merge==2)

    Matched                            91,800  (_merge==3)
    -----------------------------------------
(91,800 real changes made)
(16,427 observations deleted)
  variable ind was float now int
  (5,400,722 bytes saved)
(file data/temp/colombiaimports2011.dta not found)
file data/temp/colombiaimports2011.dta saved
(variable ImporterDepartment was str18, now str35 to accommodate using data's values)
(variable CustomsBrokerIDNIT was str10, now str11 to accommodate using data's values)
(variable ExchangeRate was str7, now str8 to accommodate using data's values)
(variable TariffPercent was str5, now str6 to accommodate using data's values)
(variable TotalTariffValueUS was long, now double to accommodate using data's values)
(775 missing values generated)
(139,478 real changes made)
(779 observations deleted)
(1,454,870 real changes made)
(2,861,785 real changes made)
(475,799 real changes made)
(34,739 real changes made)
(66,859 real changes made)
(1,179 real changes made)
(170,229 real changes made)
(290 real changes made)
(54,334 real changes made)
(52,473 real changes made)
(31 real changes made)
(118,081 real changes made)
(0 real changes made)
(1,951 real changes made)
(1 real change made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     2,825,846
        from master                 2,809,424  (_merge==1)
        from using                     16,422  (_merge==2)

    Matched                            93,412  (_merge==3)
    -----------------------------------------
(93,412 real changes made)
(16,422 observations deleted)
  variable ind was float now int
  (5,805,672 bytes saved)
(file data/temp/colombiaimports2012.dta not found)
file data/temp/colombiaimports2012.dta saved
(note: variable EconomicActivity was str83 in the using data, but will be byte now)
(variable QuantityofPackages was str7, now str8 to accommodate using data's values)
(variable Flag was str28, now str32 to accommodate using data's values)
(variable LegalRepresentativeName was str60, now str62 to accommodate using data's values)
(variable LegalRepresentativeDocument was str10, now str11 to accommodate using data's values)
(1,111 missing values generated)
(193,161 real changes made)
(1,112 observations deleted)
(1,574,299 real changes made)
(3,028,916 real changes made)
(564,252 real changes made)
(29,242 real changes made)
(83,612 real changes made)
(1,128 real changes made)
(184,155 real changes made)
(257 real changes made)
(45,498 real changes made)
(45,289 real changes made)
(29 real changes made)
(146,476 real changes made)
(10 real changes made)
(2,814 real changes made)
(4 real changes made)
(variable ProviderCountry was str43, now str50 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     2,992,184
        from master                 2,975,508  (_merge==1)
        from using                     16,676  (_merge==2)

    Matched                           102,036  (_merge==3)
    -----------------------------------------
(102,036 real changes made)
(16,676 observations deleted)
  variable ind was float now int
  variable ProviderCountry was str50 now str43
  (27,697,896 bytes saved)
(file data/temp/colombiaimports2013.dta not found)
file data/temp/colombiaimports2013.dta saved

. 
. use "data/confidential_data/datamyne/ColombiaImports2008.dta"

. keep VATPercent TariffPercent ExchangeRate CustomsValueTariffBase CIFValueUS FOBValueUS Valuetobepay Quantity GrossWeight NetWeight ProductHS Countr
> yofOrigin ProviderCountry Provider DeclarationDate 

.                         ** fixing country names
.                         gen str3 prov=ProviderCountry
(2,831 missing values generated)

.                         replace ProviderCountry="ESPANIA" if prov=="ESP"
(56,352 real changes made)

.                         drop prov

. 
.                         drop if Provider=="" |ProviderCountry=="" 
(2,836 observations deleted)

.                         gen Provider1=upper(Provider)

.                         replace Provider1 = subinstr(Provider1,".","",.)
(943,477 real changes made)

.                         replace Provider1 = subinstr(Provider1," ","",.)
(2,085,312 real changes made)

.                         replace Provider1 = subinstr(Provider1,",","",.)
(298,250 real changes made)

.                         replace Provider1 = subinstr(Provider1,"/","",.)
(20,344 real changes made)

.                         replace Provider1 = subinstr(Provider1,"-","",.)
(73,128 real changes made)

.                         replace Provider1 = subinstr(Provider1,";","",.)
(1,027 real changes made)

.                         replace Provider1 = subinstr(Provider1,"&","",.)
(122,319 real changes made)

.                         replace Provider1 = subinstr(Provider1,char(34),"",.)
(246 real changes made)

.                         replace Provider1 = subinstr(Provider1,"(","",.)
(32,541 real changes made)

.                         replace Provider1 = subinstr(Provider1,")","",.)
(32,411 real changes made)

.                         replace Provider1 = subinstr(Provider1,"@","",.)
(67 real changes made)

.                         replace Provider1 = subinstr(Provider1,"LLC","",.)
(58,748 real changes made)

.                         replace Provider1 = subinstr(Provider1,"?","",.)
(4 real changes made)

.                         replace Provider1 = subinstr(Provider1,"`","",.)
(633 real changes made)

.                         replace Provider1 = subinstr(Provider1,"}","",.)
(1 real change made)

.                         gen str12 Provider2=Provider1

.                         drop Provider1 Provider

.                         rename Provider2 Provider

.                         
.                         sort Provider ProviderCountry

.                         merge m:1 Provider ProviderCountry using data/temp/firms_clean
(variable ProviderCountry was str36, now str50 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     2,035,248
        from master                 2,018,907  (_merge==1)
        from using                     16,341  (_merge==2)

    Matched                            99,828  (_merge==3)
    -----------------------------------------

.                         replace Provider=Provider2 if _m==3
(99,828 real changes made)

.                         drop if _m==2
(16,341 observations deleted)

.                         drop _m Provider2

.                         compress
  variable ind was float now int
  variable ProviderCountry was str50 now str36
  (33,899,760 bytes saved)

. 
. keep VATPercent TariffPercent ExchangeRate CustomsValueTariffBase CIFValueUS FOBValueUS Valuetobepay Quantity GrossWeight NetWeight ProductHS Countr
> yofOrigin Provider DeclarationDate  

. 
. gen year=year(DeclarationDate)

. gen month=month(DeclarationDate)

. drop DeclarationDate

. 
. save data/temp/colombiaimports2008, replace
(file data/temp/colombiaimports2008.dta not found)
file data/temp/colombiaimports2008.dta saved

. *********************************************************************
. **       combine data files from years 2007 to 2013          **
. *********************************************************************
. 
. use data/temp/colombiaimports2007, replace

. forvalues y=2008/2013 {
  2. append using data/temp/colombiaimports`y', force
  3. }
(variable CountryofOrigin was str29, now str36 to accommodate using data's values)
(variable TariffPercent was str5, now str6 to accommodate using data's values)
(variable CountryofOrigin was str36, now str50 to accommodate using data's values)
(variable ExchangeRate was str7, now str8 to accommodate using data's values)
(variable TariffPercent was str6, now str7 to accommodate using data's values)

. 
. replace CountryofOrigin ="ESPANA" if substr(CountryofOrigin,1,4)=="ESPA"
(352,562 real changes made)

. 
. 
. *********************************************************************
. **      create lables for variables and save raw data         **
. *********************************************************************
. 
. label variable ProductHS "Colombian 8-digit Harmonized System Code"

. label variable CountryofOrigin "Country of Origin Of the Imported Good"

. label variable Quantity "Quantity: Unit Types are the same within an HS8 Product"

. label variable CIFValueUS "CIF (Cost, Insurance, and Freight) Value of Imports in Current US Dollars"

. label variable FOBValueUS "FOB (Free On Board) Value of Imports, expressed in Current US Dollars"

. label variable NetWeight "Net Weight in Kilograms"

. label variable GrossWeight "Gross Weight in Kilograms"

. label variable ExchangeRate "Exchange Rate expressed in Colombian Pesos per 1 US Dollar"

.   
. label variable CustomsValueTariffBase "Customs Value Tariff Base Expressed in Colombian Pesos"

. label variable TariffPercent "Import Tariff Rate Expressed in Ad-valorem Percentage Terms"

. label variable VATPercent "Value Added Tax Rate Expressed in Ad-valorem Percentage Terms"

. label variable Valuetobepay "Total Value of Taxes and Tariffs (including VAT) in Colombian Pesos"

. label variable Provider "Name of the Exporting (to Colombia) Firm"

.  
. save data/temp/colombia_imports, replace
(file data/temp/colombia_imports.dta not found)
file data/temp/colombia_imports.dta saved

. 
. erase "data/temp/colombiaimports2007.dta"

. erase "data/temp/colombiaimports2008.dta"

. erase "data/temp/colombiaimports2009.dta"

. erase "data/temp/colombiaimports2010.dta"

. erase "data/temp/colombiaimports2011.dta"

. erase "data/temp/colombiaimports2012.dta"

. erase "data/temp/colombiaimports2013.dta"

. erase "data/temp/firms_clean.dta"

. 
end of do-file
. do code/data_prep/2-revise_hs_codes // update HS10 codes for longitudinal consistency

. clear

. 
.          *** ten codes changing twice old/new
.         if 0{
.         303290000*
.         303890000*
.         304890000*
.         308290000*
.         2931909700*
.         3824909900*
.         3824909930*
.         8703900030*
.         8711900020*
.         9405102000*
.         }

. 
.         use "data/concordance/hs_code_change.dta", clear

.         keep codeold codenew year

.         duplicates drop

Duplicates in terms of all variables

(450 observations deleted)

.         destring year, replace
year: all characters numeric; replaced as int

.         keep if year>=2007 & year<=2013
(457 observations deleted)

.         bysort codeold year: gen nold=_N

.         bysort codenew year: gen nnew=_N

.         drop if codenew==codeold & nold==1 & nnew==1
(53 observations deleted)

.         save data/temp/tempMain, replace
(file data/temp/tempMain.dta not found)
file data/temp/tempMain.dta saved

. 
. 
.  use data/temp/colombia_imports, clear

.         *2931909700
.         *codeold        codenew year    nold    nnew
.         *2931909700     2931399600      2011    1       1
.         *2931009800     2931909700      2008    1       1
.         * 2931399600 is only once, 2931009800 only once
.         ***2931909700 first change in 2008
.         replace ProductHS="2931399600" if ProductHS=="2931909700" | ProductHS=="2931009800"
(54 real changes made)

. 
.         *303290000
.         ***first change codenew== 303290000 codeold=303790090 change in 2008
.         ***second change codeold== 303290000 codenew=303190000 change in 2011 
.          * 303290000 303190000 only once
.         replace ProductHS="303790090" if ProductHS=="303290000" | ProductHS=="303190000"
(0 real changes made)

. 
. 
.         *303890000
.         if 0{
.         ***first change codenew== 303890000 codeold=303790090 change in 2008
.         ***second change codeold== 303890000 codenew=303590000 change in 2011 
.          * 303790090 303590000 only once
.          }

.         replace ProductHS="303790090" if ProductHS=="303890000" | ProductHS=="303590000"
(0 real changes made)

. 
.         *304890000
.         if 0{
.         ***first change codenew== 304890000 codeold=304299090 15:1 change in 2008
.         ***second change codeold== 304890000 codenew=304880000 change in 2011 
.          * 304299090 304880000 only once
.          }

.         replace ProductHS="304299090" if ProductHS=="304890000" | ProductHS=="304880000"
(0 real changes made)

. 
.         *308290000
.         if 0{
.         ***first change codenew== 308290000 codeold=307999000 7:1 change in 2011
.         ***second change codeold== 308290000 codenew=308220000 change in 2011 
.          * 308220000 307999000 only once
.          }

.         replace ProductHS="307999000" if ProductHS=="308290000" | ProductHS=="308220000"
(0 real changes made)

.         
.         **3824909900
.         if 0{
.                 codeold codenew year    nold    nnew
.                 3824909990      2852901000      2007    5       1
.                 3824909990      2852909000      2007    5       1
.                 3824909900      3824840000      2011    6       1
.                 3824909900      3824850000      2011    6       1
.                 3824909900      3824860000      2011    6       1
.                 3824909900      3824870000      2011    6       1
.                 3824909900      3824880000      2011    6       1
.                 3824909990      3824909900      2007    5       1
.                 3824909990      3824909930      2007    5       1
.                 3824909990      3824909990      2007    5       1
.                 3824909900      3824999900      2011    6       1
.                 }

.                 #delimit ;
delimiter now ;
.         replace ProductHS="3824909990" if ProductHS=="3824909900" 
>         | ProductHS=="3824840000" | ProductHS=="3824850000"
>         | ProductHS=="3824860000" | ProductHS=="3824870000" | ProductHS=="3824880000"
>         ;
(18,359 real changes made)

.                 #delimit cr
delimiter now cr
. 
.         
.         **3824909930
.         if 0{
.                 codeold codenew year    nold    nnew
.                 3824909990      2852901000      2007    5       1
.                 3824909990      2852909000      2007    5       1
.                 3824909990      3824909900      2007    5       1
.                 3824909990      3824909930      2007    5       1
.                 3824909990      3824909990      2007    5       1
.                 3824909930      3826000000      2007    1       1
.         }

.         replace ProductHS="3824909990" if ProductHS=="3824909930" | ProductHS=="3826000000"
(36 real changes made)

. 
.         *8703900030
.                 if 0{
.         codeold codenew year    nold    nnew
.         8703900030      8703401000      2010    8       1
.         8703900030      8703409000      2010    8       1
.         8703900030      8703501000      2010    8       1
.         8703900030      8703509000      2010    8       1
.         8703900030      8703601000      2010    8       1
.         8703900030      8703609000      2010    8       1
.         8703900030      8703701000      2010    8       1
.         8703900030      8703709000      2010    8       1
.         8703900090      8703900030      2009    3       1
.         }

.         #delimit ;
delimiter now ;
.         replace ProductHS="8703900090" if ProductHS=="8703900030" | ProductHS=="8703401000" 
>         |ProductHS=="8703409000" | ProductHS=="8703501000"
>         | ProductHS=="8703509000" | ProductHS=="8703601000" |ProductHS=="8703609000" 
>         | ProductHS=="8703701000" | ProductHS=="8703709000";
(15 real changes made)

.         #delimit cr
delimiter now cr
. 
.         *8711900020
.         if 0{
.         codeold codenew year    nold    nnew
.         8711900020      8711600010      2011    1       1
.         8711900010      8711900020      2009    1       1
.         }

.         replace ProductHS="8711900020" if ProductHS=="8711900010" | ProductHS=="8711600010" 
(120 real changes made)

. 
.         *9405102000
.         if 0{
.         codeold codenew year    nold    nnew
.         9405109000      9405102000      2011    3       1
.         9405102000      9405102010      2011    2       1
.         9405102000      9405102090      2011    2       1
.         }

. 
.         replace ProductHS="9405109000" if ProductHS=="9405102000" | ProductHS=="9405102010"  | ProductHS=="9405102090"
(471 real changes made)

. 
.         save data/temp/colombia_imports_updated_hs, replace
(file data/temp/colombia_imports_updated_hs.dta not found)
file data/temp/colombia_imports_updated_hs.dta saved

. 
. **rearranging the concordance file
. use data/temp/tempMain, replace

. #delimit ;
delimiter now ;
. drop if codeold==303290000 | codeold==303890000 |codeold==304890000 |codeold==308290000 
> |codeold==3824909930 |codeold==3824909900 |codeold==2931909700 | codeold==8703900030 
> |codeold==8711900020 |codeold==9405102000
> ;
(23 observations deleted)

. drop if codenew==303290000 | codenew==303890000 |codenew==304890000 |codenew==308290000
> |codenew==3824909930 |codenew==3824909900 |codenew==2931909700 | codenew==8703900030 
> |codenew==8711900020 |codenew==9405102000
> ;
(10 observations deleted)

. #delimit cr
delimiter now cr
. save data/temp/tempMain2nd, replace
(file data/temp/tempMain2nd.dta not found)
file data/temp/tempMain2nd.dta saved

. 
. if 0{
.         drop if codeold==codenew
.         sort year codeold codenew
.         ** difficult cases: many to many
.         drop nold nnew
.         bysort codeold year: gen nold=_N
.         bysort codenew year: gen nnew=_N
.         *keep if nold>1 & nnew>1
.         *bro
.         sort codeold codenew
. 
. 
.         bro if codeold==305490000 | codeold==305410000 |codeold==305690000 |codenew==305720000
.         codeold codenew year    nold    nnew
.         305410000       305720000       2011    2       3
.         305410000       305799000       2011    2       3
.         305490000       305430000       2011    4       1
.         305490000       305440000       2011    4       1
.         305490000       305720000       2011    4       3
.         305490000       305799000       2011    4       3
.         305690000       305640000       2011    3       1
.         305690000       305720000       2011    3       3
.         305690000       305799000       2011    3       3
. }

. use data/temp/tempMain2nd, clear

.         keep if codeold==305490000 | codeold==305410000 |codeold==305690000 |codenew==305720000
(187 observations deleted)

.         rename codeold ProductHS

.         tostring ProductHS, replace
ProductHS was double now str9

.         keep ProductHS

.         save data/temp/temp1, replace
(file data/temp/temp1.dta not found)
file data/temp/temp1.dta saved

.         use data/temp/tempMain2nd, clear

.         keep if codeold==305490000 | codeold==305410000 |codeold==305690000 |codenew==305720000
(187 observations deleted)

.         rename codenew ProductHS

.         tostring ProductHS, replace
ProductHS was double now str9

.         keep ProductHS

.         append using data/temp/temp1

.         duplicates drop

Duplicates in terms of all variables

(16 observations deleted)

.         gen str10 codenew="305.2011.1"

.         save data/temp/Main_1, replace
(file data/temp/Main_1.dta not found)
file data/temp/Main_1.dta saved

. 
. use data/temp/tempMain2nd, clear

.         drop if codeold==305490000 | codeold==305410000 |codeold==305690000 |codenew==305720000
(12 observations deleted)

.         drop if codeold==codenew
(22 observations deleted)

. sort year codeold codenew

. drop nold nnew

.         bysort codeold year: gen nold=_N

.         bysort codenew year: gen nnew=_N

.         sort codeold codenew

.         bro if nold>1 & nnew>1

. 
.         keep if nnew==1
(8 observations deleted)

.         tostring codenew, replace
codenew was double now str10

.         rename codenew ProductHS

.         tostring codeold, replace
codeold was double now str10

.         rename codeold codenew

.         keep ProductHS codenew

.         save data/temp/Main_2, replace
(file data/temp/Main_2.dta not found)
file data/temp/Main_2.dta saved

.         
. use data/temp/tempMain2nd, clear

.         drop if codeold==305490000 | codeold==305410000 |codeold==305690000 |codenew==305720000
(12 observations deleted)

.         drop if codeold==codenew
(22 observations deleted)

. sort year codeold codenew

. drop nold nnew

.         bysort codeold year: gen nold=_N

.         bysort codenew year: gen nnew=_N

.         sort codeold codenew

.         bro if nold>1 & nnew>1

. 
.         keep if nold==1
(121 observations deleted)

.         tostring codenew, replace
codenew was double now str10

.         tostring codeold, replace
codeold was double now str10

.         rename codeold ProductHS

.         keep ProductHS codenew

.         save data/temp/Main_3, replace
(file data/temp/Main_3.dta not found)
file data/temp/Main_3.dta saved

.         append using data/temp/Main_2

.         append using data/temp/Main_1

.         duplicates drop

Duplicates in terms of all variables

(5 observations deleted)

.         save data/temp/Main_all, replace
(file data/temp/Main_all.dta not found)
file data/temp/Main_all.dta saved

.                 if 0{
.                 *check that there are no duplicates
.                 bysort ProductHS: gen k=_N
.                 }

. merge 1:m ProductHS using data/temp/colombia_imports_updated_hs

    Result                      Number of obs
    -----------------------------------------
    Not matched                    17,235,737
        from master                       159  (_merge==1)
        from using                 17,235,578  (_merge==2)

    Matched                            39,155  (_merge==3)
    -----------------------------------------

. replace ProductHS=codenew if _m==3
(39,155 real changes made)

. drop if _m==1
(159 observations deleted)

. drop codenew _m CIFValueUS

. save data/temp/colombia_imports_updated_hs, replace
file data/temp/colombia_imports_updated_hs.dta saved

. 
. erase "data/temp/tempMain2nd.dta"

. erase "data/temp/tempMain.dta"

. erase "data/temp/temp1.dta"

. erase "data/temp/Main_all.dta"

. erase "data/temp/Main_3.dta"

. erase "data/temp/Main_2.dta"

. erase "data/temp/Main_1.dta"

. 
end of do-file
. do code/data_prep/3-construct_variables // construct variables for demand estimation

. clear

. 
. use "data/exchange_rate_report_boc/exchange_rate_report.dta", clear

. collapse (mean) xrate_usd xrate_col,by( month year country )

. 
. 
. gen CountryofOrigin=strupper(country)

. sort CountryofOrigin

. collapse (mean) xrate_usd xrate_col , by(month year CountryofOrigin)

. 
. egen id=group(CountryofOrigin)

. gen date=ym(year, month)

. tsset id date

Panel variable: id (strongly balanced)
 Time variable: date, 564 to 660
         Delta: 1 unit

. 
. local n_lag=7

. 
. ************** Construct Shift-Share IV **************
. forvalues y=1/`n_lag'  {
  2. local x2 = 12*`y'
  3. local x1 = 12*(`y' - 1 ) 
  4. gen exc_col_F`y' = 100*(log(F`x2'.xrate_col) - log(F`x1'.xrate_col))
  5. gen exc_usd_F`y' = 100*(log(F`x2'.xrate_usd) - log(F`x1'.xrate_usd))
  6. }
(920 missing values generated)
(920 missing values generated)
(1,824 missing values generated)
(1,824 missing values generated)
(2,736 missing values generated)
(2,736 missing values generated)
(3,648 missing values generated)
(3,648 missing values generated)
(4,560 missing values generated)
(4,560 missing values generated)
(5,472 missing values generated)
(5,472 missing values generated)
(6,384 missing values generated)
(6,384 missing values generated)

. 
. drop id

. merge 1:m CountryofOrigin year month using "data/temp/colombia_imports_updated_hs.dta"
(variable CountryofOrigin was str24, now str50 to accommodate using data's values)
(variable year was int, now float to accommodate using data's values)
(variable month was byte, now float to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       272,394
        from master                     1,580  (_merge==1)
        from using                    270,814  (_merge==2)

    Matched                        17,003,919  (_merge==3)
    -----------------------------------------

. 
. destring  VATPercent TariffPercent ExchangeRate, replace
VATPercent: all characters numeric; replaced as double
(1580 missing values generated)
TariffPercent: all characters numeric; replaced as double
(1580 missing values generated)
ExchangeRate: all characters numeric; replaced as double
(1580 missing values generated)

. drop if CustomsValueTariffBase<0
(1 observation deleted)

. ******************************************************************************
. 
. collapse (sum) CustomsValueTariffBase Valuetobepay Quantity ///
> (mean) VATPercent TariffPercent exc_col_F* exc_usd_F* [fw=CustomsValueTariffBase], ///
> by(year ProductHS CountryofOrigin Provider)

. 
. 
. egen id = group(ProductHS CountryofOrigin Provider)
(13 missing values generated)

. drop if missing(id)
(13 observations deleted)

. tsset id year

Panel variable: id (unbalanced)
 Time variable: year, 2007 to 2013, but with gaps
         Delta: 1 unit

. 
. local spec = 1

. 
. if `spec'== 0 {
. generate Dexc_col = cond(!missing(L7.exc_col_F7) , L7.exc_col_F7, ///
>                     cond(!missing(L6.exc_col_F6) , L6.exc_col_F6, ///
>                                 cond(!missing(L5.exc_col_F5) , L5.exc_col_F5, ///
>                                     cond(!missing(L4.exc_col_F4) , L4.exc_col_F4, ///
>                                     cond(!missing(L3.exc_col_F3) , L3.exc_col_F3, ///
>                                         cond(!missing(L2.exc_col_F2) , L2.exc_col_F2, ///
>                                     cond(!missing(L.exc_col_F1) , L.exc_col_F1, ///
>                                                                                 . )))))))
.                                                                                 
. generate Dexc_usd = cond(!missing(L7.exc_usd_F7) , L7.exc_usd_F7, ///
>                     cond(!missing(L6.exc_usd_F6) , L6.exc_usd_F6, ///
>                                     cond(!missing(L5.exc_usd_F5) , L5.exc_usd_F5, ///
>                                     cond(!missing(L4.exc_usd_F4) , L4.exc_usd_F4, ///
>                                     cond(!missing(L3.exc_usd_F3) , L3.exc_usd_F3, ///
>                                         cond(!missing(L2.exc_usd_F2) , L2.exc_usd_F2, ///
>                                         cond(!missing(L.exc_usd_F1) , L.exc_usd_F1, ///
>                                                                         . )))))))
. }

. 
. 
. if `spec'== 1 {
. generate Dexc_col = cond(!missing(L.exc_col_F1) , L.exc_col_F1, ///
>                     cond(!missing(L2.exc_col_F2) , L2.exc_col_F2, ///
>                                 cond(!missing(L3.exc_col_F3) , L3.exc_col_F3, ///
>                                     cond(!missing(L4.exc_col_F4) , L4.exc_col_F4, ///
>                                     cond(!missing(L5.exc_col_F5) , L5.exc_col_F5, ///
>                                         cond(!missing(L6.exc_col_F6) , L6.exc_col_F6, ///
>                                     cond(!missing(L7.exc_col_F7) , L7.exc_col_F7, ///
>                                                                                 . )))))))
(2,210,182 missing values generated)
.                                                                                 
. generate Dexc_usd = cond(!missing(L.exc_usd_F1) , L.exc_usd_F1, ///
>                     cond(!missing(L2.exc_usd_F2) , L2.exc_usd_F2, ///
>                                     cond(!missing(L3.exc_usd_F3) , L3.exc_usd_F3, ///
>                                     cond(!missing(L4.exc_usd_F4) , L4.exc_usd_F4, ///
>                                     cond(!missing(L5.exc_usd_F5) , L4.exc_usd_F5, ///
>                                         cond(!missing(L6.exc_usd_F6) , L5.exc_usd_F6, ///
>                                         cond(!missing(L7.exc_usd_F7) , L6.exc_usd_F7, ///
>                                                                         . )))))))
(2,227,024 missing values generated)
. }

. 
. 
. ****************************************
. ** Save Data -- Firm Level
. ****************************************
. gen x_whi = CustomsValueTariffBase + Valuetobepay

. 
. ****************************************
. ** Construct Within-National Shares
. ****************************************
. bysort year ProductHS CountryofOrigin : egen x_hi=total(x_whi)

. 
. gen ln_cond_lambda = log(x_whi/x_hi)

. *****************************************
. 
. gen price=x_whi/Quantity
(14 missing values generated)

. gen lprice=log(price)
(14 missing values generated)

. gen lvat=log(1+0.01*VATPercent)

. gen ltariff=log(1+0.01*TariffPercent)

. gen ltax = lvat + ltariff

. 
. gen ln_x_wih = log(x_whi)

. gen ln_q_wih = log(Quantity)
(14 missing values generated)

. 
. egen panelvar = group(ProductHS CountryofOrigin Provider)

. drop if missing(panelvar)
(0 observations deleted)

. 
. *******************************************************
. ** Contructing Khandelwal IVs for Within-National Share
. ********************************************************
. 
. * number of firms exporting from country i in product h
. bysort year CountryofOrigin ProductHS: gen ln_nfirms=log(_N )

. 
. * number of products firm w exports in
. bysort year CountryofOrigin Provider: gen ln_nproducts=log(_N )

. 
. tsset id year

Panel variable: id (unbalanced)
 Time variable: year, 2007 to 2013, but with gaps
         Delta: 1 unit

. gen ltariff_lag = L.ltariff
(2,460,852 missing values generated)

. gen ltax_lag = L.ltax
(2,460,852 missing values generated)

. ********************************************************
. 
. xtset panelvar year

Panel variable: panelvar (unbalanced)
 Time variable: year, 2007 to 2013, but with gaps
         Delta: 1 unit

. foreach var in lprice ln_x_wih ltax ltariff lvat ln_cond_lambda ln_nfirms ln_nproducts {
  2.         gen D`var'=100*D.`var'
  3.         }
(2,460,854 missing values generated)
(2,460,852 missing values generated)
(2,460,852 missing values generated)
(2,460,852 missing values generated)
(2,460,852 missing values generated)
(2,460,852 missing values generated)
(2,460,852 missing values generated)
(2,460,852 missing values generated)

.         
.         keep if Dln_x_wih!=.
(2,460,852 observations deleted)

.         
. egen fe1=group(ProductHS year)

. gen fe2=panelvar

. 
. 
. *drop if Quantity<=1
. *drop if FOBValueUS<500
. 
. keep Dln_x_wih Dln_cond_lambda Dlprice Dexc_col Dexc_usd Dlvat Dltariff Dltax fe1 fe2 ProductHS Dln_nfirms Dln_nproducts ///
> ln_x_wih ln_cond_lambda lprice ltariff lvat ltax ln_nfirms ln_nproducts ltariff_lag ltax_lag year

. 
. save "./data/temp/colombia_imports_cleaned", replace
(file ./data/temp/colombia_imports_cleaned.dta not found)
file ./data/temp/colombia_imports_cleaned.dta saved

. 
end of do-file
. ************************************************
. 
. use "./data/temp/colombia_imports_cleaned", clear
. 
. *----- define new variables for saving estimation results ----
. gen theta = .
(1,346,236 missing values generated)
. gen theta_se = .
(1,346,236 missing values generated)
. label var theta "estimated trade elasticity ~ (sigma - 1)"
. label var theta_se "std error of estimated trade elasticity "
. 
. gen a = .
(1,346,236 missing values generated)
. gen a_se = .
(1,346,236 missing values generated)
. label var a "estimated coefficient on nest share ~ alpha"
. label var a_se "std error of estimated coefficient on nest share"
. 
. gen psi = .
(1,346,236 missing values generated)
. gen psi_se = .
(1,346,236 missing values generated)
. label var psi "estimated scale elasticity"
. label var psi_se "std error of estimated scale elasticity"
. 
. gen fstat = .
(1,346,236 missing values generated)
. gen obsv = .
(1,346,236 missing values generated)
. gen id = .
(1,346,236 missing values generated)
. label var fstat "first-stage Fstat"
. label var obsv "number of observations"
. label var id "industry number: 1-16"
. 
. *----- match HS product codes with ISIC industry codes -----
. gen hs6=substr(ProductHS,1,6)
. destring hs6, replace
hs6: all characters numeric; replaced as long
. merge m:1 hs6 using "./data/concordance/isic_hs6.dta"

    Result                      Number of obs
    -----------------------------------------
    Not matched                         5,096
        from master                     4,587  (_merge==1)
        from using                        509  (_merge==2)

    Matched                         1,341,649  (_merge==3)
    -----------------------------------------
. replace isic=3600 if _merge == 1
(4,587 real changes made)
. drop _merge
. 
. *----- trim data -------
. winsor2 Dlprice Dln_x_wih, replace cuts(1 99) by(fe1) trim
. 
. rename Dexc_usd Z1
. rename Dexc_col Z2
. 
. lab var Z1 "Shift-share IV based on exchange rate with US dollar"
. lab var Z2 "Shift-share IV based on exchange rate with Peso"
. generate Z = cond(!missing(Z1) & Z1!=0, Z1, Z2, .)
(15,295 missing values generated)
. 
. **********************************************************
. *****     PERFORM INDUSTRY-LEVEL ESTIMATION      ******
. **********************************************************
. 
. set more off
.         #delimit;       
delimiter now ;
.         ivreghdfe Dln_x_wih  (Dlprice Dln_cond_lambda = Z1 Dln_nfirms Dln_nproducts Dltax) 
>         if isic>=100 & isic<1500, a(fe1) cluster(fe2 fe1);
(dropped 390 singleton observations)
(MWFE estimator converged in 1 iterations)

IV (2SLS) estimation
--------------------

Estimates efficient for homoskedasticity only
Statistics robust to heteroskedasticity and clustering on fe2 and fe1

Number of clusters (fe2) =        4819                Number of obs =    11568
Number of clusters (fe1) =        1207                F(  2,  1206) =     3.55
                                                      Prob > F      =   0.0292
Total (centered) SS     =  433870990.1                Centered R2   =  -4.0707
Total (uncentered) SS   =  433870990.1                Uncentered R2 =  -4.0707
Residual SS             =   2200032392                Root MSE      =    436.2

---------------------------------------------------------------------------------
                |               Robust
      Dln_x_wih | Coefficient  std. err.      t    P>|t|     [95% conf. interval]
----------------+----------------------------------------------------------------
        Dlprice |  -6.226596   2.345117    -2.66   0.008    -10.82756   -1.625634
Dln_cond_lambda |   .1091938   .1484542     0.74   0.462    -.1820634     .400451
---------------------------------------------------------------------------------
Underidentification test (Kleibergen-Paap rk LM statistic):              9.748
                                                   Chi-sq(3) P-val =    0.0208
------------------------------------------------------------------------------
Weak identification test (Cragg-Donald Wald F statistic):                4.037
                         (Kleibergen-Paap rk Wald F statistic):          2.401
Stock-Yogo weak ID test critical values:  5% maximal IV relative bias    11.04
                                         10% maximal IV relative bias     7.56
                                         20% maximal IV relative bias     5.57
                                         30% maximal IV relative bias     4.73
                                         10% maximal IV size             16.87
                                         15% maximal IV size              9.93
                                         20% maximal IV size              7.54
                                         25% maximal IV size              6.28
Source: Stock-Yogo (2005).  Reproduced by permission.
NB: Critical values are for Cragg-Donald F statistic and i.i.d. errors.
------------------------------------------------------------------------------
Hansen J statistic (overidentification test of all instruments):         2.553
                                                   Chi-sq(2) P-val =    0.2790
------------------------------------------------------------------------------
Instrumented:         Dlprice Dln_cond_lambda
Excluded instruments: Z1 Dln_nfirms Dln_nproducts Dltax
Partialled-out:       _cons
                      nb: total SS, model F and R2s are after partialling-out;
                          any small-sample adjustments include partialled-out
                          variables in regressor count K
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
         fe1 |      1207        1207           0    *|
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
. outreg using output/temp/Table3_outreg.tex, varlabels tex fragment replace  
>         ctitle("" "A&M") nocons se bdec(3) statfont(normalsize)
>         sigsymbols(*,**,***) starlevels(10 5 1) hlines(101{0}1010010001)  
>         summtitle( N Obs.\Weak Ident Test \UnderIdent P-val\ N Prod-Year grs.)
>         summstat(N\widstat \idp\ N_g );

                                                           --------------------------------
                                                                                  A&M     
                                                           --------------------------------
                                                            Dlprice              -6.227   
                                                                               (2.345)*** 
                                                            Dln_cond_lambda      0.109    
                                                                                (0.148)   
                                                            N Obs.               11,568   
                                                            Weak Ident Test       2.40    
                                                            UnderIdent P-val      0.02    
                                                            N Prod-Year grs.       .      
                                                           --------------------------------
                                                            * p<0.1; ** p<0.05; *** p<0.01

.         replace theta = -_b[Dlprice]  if isic>=100 & isic<1500;
(12,551 real changes made)
.         replace theta_se = _se[Dlprice]  if isic>=100 & isic<1500;
(12,551 real changes made)
.         replace a = (1 - _b[Dln_cond_lambda])  if isic>=100 & isic<1500;
(12,551 real changes made)
.         replace a_se = _se[Dln_cond_lambda]  if isic>=100 & isic<1500;
(12,551 real changes made)
.         replace psi = -(1 - _b[Dln_cond_lambda])/_b[Dlprice]  if isic>=100 & isic<1500;
(12,551 real changes made)
.         replace psi_se = psi * ( (_se[Dlprice]/_b[Dlprice])^2 
>         + (_se[Dln_cond_lambda]/(1-_b[Dln_cond_lambda]))^2 )^0.5 if isic>=100 & isic<1500;
(12,551 real changes made)
.         replace fstat = e(widstat) if isic>=100 & isic<1500;
(12,551 real changes made)
.         replace obsv =  e(N) if isic>=100 & isic<1500;
(12,551 real changes made)
.         replace id=1 if isic>=100 & isic<1500;
(12,551 real changes made)
. ivreghdfe Dln_x_wih  (Dlprice Dln_cond_lambda = Z Dln_nfirms Dln_nproducts Dltax) 
>         if isic>=1500 & isic<1700, a(fe1) cluster(fe2 fe1) ;
(dropped 396 singleton observations)
(MWFE estimator converged in 1 iterations)

IV (2SLS) estimation
--------------------

Estimates efficient for homoskedasticity only
Statistics robust to heteroskedasticity and clustering on fe2 and fe1

Number of clusters (fe2) =        8234                Number of obs =    19615
Number of clusters (fe1) =        1798                F(  2,  1797) =     5.60
                                                      Prob > F      =   0.0038
Total (centered) SS     =  588479705.2                Centered R2   =  -0.3077
Total (uncentered) SS   =  588479705.2                Uncentered R2 =  -0.3077
Residual SS             =  769567291.8                Root MSE      =    198.1

---------------------------------------------------------------------------------
                |               Robust
      Dln_x_wih | Coefficient  std. err.      t    P>|t|     [95% conf. interval]
----------------+----------------------------------------------------------------
        Dlprice |   -2.30265   .7652335    -3.01   0.003    -3.803491   -.8018089
Dln_cond_lambda |   .0945966   .0457865     2.07   0.039     .0047963     .184397
---------------------------------------------------------------------------------
Underidentification test (Kleibergen-Paap rk LM statistic):             25.309
                                                   Chi-sq(3) P-val =    0.0000
------------------------------------------------------------------------------
Weak identification test (Cragg-Donald Wald F statistic):               14.982
                         (Kleibergen-Paap rk Wald F statistic):          6.272
Stock-Yogo weak ID test critical values:  5% maximal IV relative bias    11.04
                                         10% maximal IV relative bias     7.56
                                         20% maximal IV relative bias     5.57
                                         30% maximal IV relative bias     4.73
                                         10% maximal IV size             16.87
                                         15% maximal IV size              9.93
                                         20% maximal IV size              7.54
                                         25% maximal IV size              6.28
Source: Stock-Yogo (2005).  Reproduced by permission.
NB: Critical values are for Cragg-Donald F statistic and i.i.d. errors.
------------------------------------------------------------------------------
Hansen J statistic (overidentification test of all instruments):        68.381
                                                   Chi-sq(2) P-val =    0.0000
------------------------------------------------------------------------------
Instrumented:         Dlprice Dln_cond_lambda
Excluded instruments: Z Dln_nfirms Dln_nproducts Dltax
Partialled-out:       _cons
                      nb: total SS, model F and R2s are after partialling-out;
                          any small-sample adjustments include partialled-out
                          variables in regressor count K
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
         fe1 |      1798        1798           0    *|
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
.   outreg using output/temp/Table3_outreg.tex, varlabels tex fragment merge  
>         ctitle( "" "Food") nocons se bdec(3) statfont(normalsize)
>         sigsymbols(*,**,***) starlevels(10 5 1) hlines(101{0}1010010001)  
>         summtitle( N Obs.\Weak Ident Test \UnderIdent P-val\ N Prod-Year grs.)
>         summstat(N\widstat \idp\ N_g );

                                                     --------------------------------------------
                                                                            A&M         Food    
                                                     --------------------------------------------
                                                      Dlprice              -6.227      -2.303   
                                                                         (2.345)***  (0.765)*** 
                                                      Dln_cond_lambda      0.109       0.095    
                                                                          (0.148)    (0.046)**  
                                                      N Obs.               11,568      19,615   
                                                      Weak Ident Test       2.40        6.27    
                                                      UnderIdent P-val      0.02        0.00    
                                                      N Prod-Year grs.       .           .      
                                                     --------------------------------------------
                                                            * p<0.1; ** p<0.05; *** p<0.01

.         replace theta = -_b[Dlprice]  if isic>=1500 & isic<1700;
(20,882 real changes made)
.         replace theta_se = _se[Dlprice]  if isic>=1500 & isic<1700;
(20,882 real changes made)
.         replace a = (1 - _b[Dln_cond_lambda])  if isic>=1500 & isic<1700;
(20,882 real changes made)
.         replace a_se = _se[Dln_cond_lambda] if isic>=1500 & isic<1700;
(20,882 real changes made)
.         replace psi = -(1 - _b[Dln_cond_lambda])/_b[Dlprice]  if isic>=1500 & isic<1700;
(20,882 real changes made)
.         replace psi_se = psi * ( (_se[Dlprice]/_b[Dlprice])^2 
>                 + (_se[Dln_cond_lambda]/(1-_b[Dln_cond_lambda]))^2 )^0.5 if isic>=1500 & isic<1700;
(20,882 real changes made)
.         replace fstat = e(widstat) if  isic>=1500 & isic<1700;
(20,882 real changes made)
.         replace obsv =  e(N) if  isic>=1500 & isic<1700;
(20,882 real changes made)
.         replace id=2 if isic>=1500 & isic<1700;
(20,882 real changes made)
.         ivreghdfe Dln_x_wih  (Dlprice Dln_cond_lambda = Z Dln_nfirms Dln_nproducts Dltax) 
>         if isic>=1700 & isic<2000, a(fe1)  cluster(fe2 fe1);
(dropped 551 singleton observations)
(MWFE estimator converged in 1 iterations)

IV (2SLS) estimation
--------------------

Estimates efficient for homoskedasticity only
Statistics robust to heteroskedasticity and clustering on fe2 and fe1

Number of clusters (fe2) =       62967                Number of obs =   125120
Number of clusters (fe1) =        3921                F(  2,  3920) =   133.53
                                                      Prob > F      =   0.0000
Total (centered) SS     =   9274007577                Centered R2   =  -0.3300
Total (uncentered) SS   =   9274007577                Uncentered R2 =  -0.3300
Residual SS             =  1.23347e+10                Root MSE      =      314

---------------------------------------------------------------------------------
                |               Robust
      Dln_x_wih | Coefficient  std. err.      t    P>|t|     [95% conf. interval]
----------------+----------------------------------------------------------------
        Dlprice |  -3.359105   .3530596    -9.51   0.000    -4.051303   -2.666907
Dln_cond_lambda |   .2466118   .0218711    11.28   0.000      .203732    .2894917
---------------------------------------------------------------------------------
Underidentification test (Kleibergen-Paap rk LM statistic):            141.813
                                                   Chi-sq(3) P-val =    0.0000
------------------------------------------------------------------------------
Weak identification test (Cragg-Donald Wald F statistic):              145.728
                         (Kleibergen-Paap rk Wald F statistic):         66.651
Stock-Yogo weak ID test critical values:  5% maximal IV relative bias    11.04
                                         10% maximal IV relative bias     7.56
                                         20% maximal IV relative bias     5.57
                                         30% maximal IV relative bias     4.73
                                         10% maximal IV size             16.87
                                         15% maximal IV size              9.93
                                         20% maximal IV size              7.54
                                         25% maximal IV size              6.28
Source: Stock-Yogo (2005).  Reproduced by permission.
NB: Critical values are for Cragg-Donald F statistic and i.i.d. errors.
------------------------------------------------------------------------------
Hansen J statistic (overidentification test of all instruments):       348.745
                                                   Chi-sq(2) P-val =    0.0000
------------------------------------------------------------------------------
Instrumented:         Dlprice Dln_cond_lambda
Excluded instruments: Z Dln_nfirms Dln_nproducts Dltax
Partialled-out:       _cons
                      nb: total SS, model F and R2s are after partialling-out;
                          any small-sample adjustments include partialled-out
                          variables in regressor count K
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
         fe1 |      3921        3921           0    *|
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
. outreg using output/temp/Table3_outreg.tex, varlabels tex fragment merge  
>         ctitle( "" "Text&L&F") nocons se bdec(3) statfont(normalsize)
>         sigsymbols(*,**,***) starlevels(10 5 1) hlines(101{0}1010010001)  
>         summtitle( N Obs.\Weak Ident Test \UnderIdent P-val\ N Prod-Year grs.)
>         summstat(N\widstat \idp\ N_g );

                                               --------------------------------------------------------
                                                                      A&M         Food      Text&L&F  
                                               --------------------------------------------------------
                                                Dlprice              -6.227      -2.303      -3.359   
                                                                   (2.345)***  (0.765)***  (0.353)*** 
                                                Dln_cond_lambda      0.109       0.095       0.247    
                                                                    (0.148)    (0.046)**   (0.022)*** 
                                                N Obs.               11,568      19,615     125,120   
                                                Weak Ident Test       2.40        6.27       66.65    
                                                UnderIdent P-val      0.02        0.00        0.00    
                                                N Prod-Year grs.       .           .           .      
                                               --------------------------------------------------------
                                                            * p<0.1; ** p<0.05; *** p<0.01

.         replace theta = -_b[Dlprice]  if isic>=1700 & isic<2000;
(132,055 real changes made)
.         replace theta_se = _se[Dlprice]  if isic>=1700 & isic<2000;
(132,055 real changes made)
.         replace a = (1 - _b[Dln_cond_lambda])  if isic>=1700 & isic<2000;
(132,055 real changes made)
.         replace a_se = _se[Dln_cond_lambda] if isic>=1700 & isic<2000;
(132,055 real changes made)
.         replace psi = -(1 - _b[Dln_cond_lambda])/_b[Dlprice]  if isic>=1700 & isic<2000;
(132,055 real changes made)
.         replace psi_se = psi * ( (_se[Dlprice]/_b[Dlprice])^2 
>                 + (_se[Dln_cond_lambda]/(1-_b[Dln_cond_lambda]))^2 )^0.5 if isic>=1700 & isic<2000;
(132,055 real changes made)
.         replace fstat = e(widstat) if  isic>=1700 & isic<2000;
(132,055 real changes made)
.         replace obsv =  e(N) if  isic>=1700 & isic<2000;
(132,055 real changes made)
.         replace id=3 if isic>=1700 & isic<2000;
(132,055 real changes made)
. ivreghdfe Dln_x_wih  (Dlprice Dln_cond_lambda = Z Dln_nfirms Dln_nproducts Dltax) 
>         if isic>=2000 & isic<2100, a(fe1) cluster(fe2 fe1);
(dropped 67 singleton observations)
(MWFE estimator converged in 1 iterations)

IV (2SLS) estimation
--------------------

Estimates efficient for homoskedasticity only
Statistics robust to heteroskedasticity and clustering on fe2 and fe1

Number of clusters (fe2) =        3027                Number of obs =     5872
Number of clusters (fe1) =         354                F(  2,   353) =     2.76
                                                      Prob > F      =   0.0646
Total (centered) SS     =    411998029                Centered R2   =  -5.2089
Total (uncentered) SS   =    411998029                Uncentered R2 =  -5.2089
Residual SS             =   2558070784                Root MSE      =    660.2

---------------------------------------------------------------------------------
                |               Robust
      Dln_x_wih | Coefficient  std. err.      t    P>|t|     [95% conf. interval]
----------------+----------------------------------------------------------------
        Dlprice |  -3.896258   1.854652    -2.10   0.036    -7.543815    -.248701
Dln_cond_lambda |   .1093844   .1948604     0.56   0.575    -.2738489    .4926177
---------------------------------------------------------------------------------
Underidentification test (Kleibergen-Paap rk LM statistic):              5.323
                                                   Chi-sq(3) P-val =    0.1496
------------------------------------------------------------------------------
Weak identification test (Cragg-Donald Wald F statistic):                1.941
                         (Kleibergen-Paap rk Wald F statistic):          1.413
Stock-Yogo weak ID test critical values:  5% maximal IV relative bias    11.04
                                         10% maximal IV relative bias     7.56
                                         20% maximal IV relative bias     5.57
                                         30% maximal IV relative bias     4.73
                                         10% maximal IV size             16.87
                                         15% maximal IV size              9.93
                                         20% maximal IV size              7.54
                                         25% maximal IV size              6.28
Source: Stock-Yogo (2005).  Reproduced by permission.
NB: Critical values are for Cragg-Donald F statistic and i.i.d. errors.
------------------------------------------------------------------------------
Hansen J statistic (overidentification test of all instruments):         1.295
                                                   Chi-sq(2) P-val =    0.5233
------------------------------------------------------------------------------
Instrumented:         Dlprice Dln_cond_lambda
Excluded instruments: Z Dln_nfirms Dln_nproducts Dltax
Partialled-out:       _cons
                      nb: total SS, model F and R2s are after partialling-out;
                          any small-sample adjustments include partialled-out
                          variables in regressor count K
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
         fe1 |       354         354           0    *|
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
. outreg using output/temp/Table3_outreg.tex, varlabels tex fragment merge  
>         ctitle("" "Wood") nocons se bdec(3) statfont(normalsize)
>         sigsymbols(*,**,***) starlevels(10 5 1) hlines(101{0}1010010001)  
>         summtitle( N Obs.\Weak Ident Test \UnderIdent P-val\ N Prod-Year grs.)
>         summstat(N\widstat \idp\ N_g ) ;

                                         -------------------------------------------------------------------
                                                                A&M         Food      Text&L&F     Wood    
                                         -------------------------------------------------------------------
                                          Dlprice              -6.227      -2.303      -3.359     -3.896   
                                                             (2.345)***  (0.765)***  (0.353)***  (1.855)** 
                                          Dln_cond_lambda      0.109       0.095       0.247       0.109   
                                                              (0.148)    (0.046)**   (0.022)***   (0.195)  
                                          N Obs.               11,568      19,615     125,120      5,872   
                                          Weak Ident Test       2.40        6.27       66.65       1.41    
                                          UnderIdent P-val      0.02        0.00        0.00       0.15    
                                          N Prod-Year grs.       .           .           .           .     
                                         -------------------------------------------------------------------
                                                            * p<0.1; ** p<0.05; *** p<0.01

.         replace theta = -_b[Dlprice]  if isic>=2000 & isic<2100;
(6,031 real changes made)
.         replace theta_se = _se[Dlprice]  if isic>=2000 & isic<2100;
(6,031 real changes made)
.         replace a = (1 - _b[Dln_cond_lambda])  if isic>=2000 & isic<2100;
(6,031 real changes made)
.         replace a_se = _se[Dln_cond_lambda] if isic>=2000 & isic<2100;
(6,031 real changes made)
.         replace psi = -(1 - _b[Dln_cond_lambda])/_b[Dlprice]  if isic>=2000 & isic<2100;
(6,031 real changes made)
.         replace psi_se = psi * ( (_se[Dlprice]/_b[Dlprice])^2 
>                 + (_se[Dln_cond_lambda]/(1-_b[Dln_cond_lambda]))^2 )^0.5 if isic>=2000 & isic<2100;
(6,031 real changes made)
.         replace fstat = e(widstat) if  isic>=2000 & isic<2100;
(6,031 real changes made)
.         replace obsv =  e(N) if  isic>=2000 & isic<2100;
(6,031 real changes made)
.         replace id=4 if isic>=2000 & isic<2100;
(6,031 real changes made)
. ivreghdfe Dln_x_wih  (Dlprice Dln_cond_lambda =  Z1 Dln_nfirms Dln_nproducts Dltax)
>         if isic>=2100 & isic<2300, a(fe1) cluster(fe2 fe1);
(dropped 104 singleton observations)
(MWFE estimator converged in 1 iterations)

IV (2SLS) estimation
--------------------

Estimates efficient for homoskedasticity only
Statistics robust to heteroskedasticity and clustering on fe2 and fe1

Number of clusters (fe2) =       17825                Number of obs =    37376
Number of clusters (fe1) =         981                F(  2,   980) =     7.12
                                                      Prob > F      =   0.0009
Total (centered) SS     =   3042698081                Centered R2   =  -1.2397
Total (uncentered) SS   =   3042698081                Uncentered R2 =  -1.2397
Residual SS             =   6814590040                Root MSE      =      427

---------------------------------------------------------------------------------
                |               Robust
      Dln_x_wih | Coefficient  std. err.      t    P>|t|     [95% conf. interval]
----------------+----------------------------------------------------------------
        Dlprice |  -2.646057    1.10603    -2.39   0.017    -4.816517   -.4755978
Dln_cond_lambda |   .1521585   .0614362     2.48   0.013     .0315968    .2727202
---------------------------------------------------------------------------------
Underidentification test (Kleibergen-Paap rk LM statistic):             12.382
                                                   Chi-sq(3) P-val =    0.0062
------------------------------------------------------------------------------
Weak identification test (Cragg-Donald Wald F statistic):                3.685
                         (Kleibergen-Paap rk Wald F statistic):          3.233
Stock-Yogo weak ID test critical values:  5% maximal IV relative bias    11.04
                                         10% maximal IV relative bias     7.56
                                         20% maximal IV relative bias     5.57
                                         30% maximal IV relative bias     4.73
                                         10% maximal IV size             16.87
                                         15% maximal IV size              9.93
                                         20% maximal IV size              7.54
                                         25% maximal IV size              6.28
Source: Stock-Yogo (2005).  Reproduced by permission.
NB: Critical values are for Cragg-Donald F statistic and i.i.d. errors.
------------------------------------------------------------------------------
Hansen J statistic (overidentification test of all instruments):        39.510
                                                   Chi-sq(2) P-val =    0.0000
------------------------------------------------------------------------------
Instrumented:         Dlprice Dln_cond_lambda
Excluded instruments: Z1 Dln_nfirms Dln_nproducts Dltax
Partialled-out:       _cons
                      nb: total SS, model F and R2s are after partialling-out;
                          any small-sample adjustments include partialled-out
                          variables in regressor count K
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
         fe1 |       981         981           0    *|
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
.   outreg using output/temp/Table3_outreg.tex, varlabels tex fragment merge  
>         ctitle("" "Paper") nocons se bdec(3) statfont(normalsize)
>         sigsymbols(*,**,***) starlevels(10 5 1) hlines(101{0}1010010001)  
>         summtitle( N Obs.\Weak Ident Test \UnderIdent P-val\ N Prod-Year grs.)
>         summstat(N\widstat \idp\ N_g ) ;

                                    ------------------------------------------------------------------------------
                                                           A&M         Food      Text&L&F     Wood       Paper   
                                    ------------------------------------------------------------------------------
                                     Dlprice              -6.227      -2.303      -3.359     -3.896     -2.646   
                                                        (2.345)***  (0.765)***  (0.353)***  (1.855)**  (1.106)** 
                                     Dln_cond_lambda      0.109       0.095       0.247       0.109      0.152   
                                                         (0.148)    (0.046)**   (0.022)***   (0.195)   (0.061)** 
                                     N Obs.               11,568      19,615     125,120      5,872     37,376   
                                     Weak Ident Test       2.40        6.27       66.65       1.41       3.23    
                                     UnderIdent P-val      0.02        0.00        0.00       0.15       0.01    
                                     N Prod-Year grs.       .           .           .           .          .     
                                    ------------------------------------------------------------------------------
                                                            * p<0.1; ** p<0.05; *** p<0.01

.         replace theta = -_b[Dlprice]  if isic>=2100 & isic<2300;
(38,560 real changes made)
.         replace theta_se = _se[Dlprice]  if isic>=2100 & isic<2300;
(38,560 real changes made)
.         replace a = (1 - _b[Dln_cond_lambda])  if isic>=2100 & isic<2300;
(38,560 real changes made)
.         replace a_se = _se[Dln_cond_lambda] if isic>=2100 & isic<2300;
(38,560 real changes made)
.         replace psi = -(1 - _b[Dln_cond_lambda])/_b[Dlprice]  if isic>=2100 & isic<2300;
(38,560 real changes made)
.         replace psi_se = psi * ( (_se[Dlprice]/_b[Dlprice])^2 
>                 + (_se[Dln_cond_lambda]/(1-_b[Dln_cond_lambda]))^2 )^0.5 if isic>=2100 & isic<2300;
(38,560 real changes made)
.         replace fstat = e(widstat) if  isic>=2100 & isic<2300;
(38,560 real changes made)
.         replace obsv =  e(N) if  isic>=2100 & isic<2300;
(38,560 real changes made)
.         replace id=5 if isic>=2100 & isic<2300;
(38,560 real changes made)
. ivreghdfe Dln_x_wih  (Dlprice Dln_cond_lambda =  Z Dln_nfirms Dln_nproducts Dltariff) 
>  if isic>=2300 & isic<2400, a(fe1)      cluster(fe2 fe1);
(dropped 35 singleton observations)
(MWFE estimator converged in 1 iterations)

IV (2SLS) estimation
--------------------

Estimates efficient for homoskedasticity only
Statistics robust to heteroskedasticity and clustering on fe2 and fe1

Number of clusters (fe2) =        1684                Number of obs =     3973
Number of clusters (fe1) =         179                F(  2,   178) =     3.95
                                                      Prob > F      =   0.0209
Total (centered) SS     =  192068381.9                Centered R2   =  -0.1189
Total (uncentered) SS   =  192068381.9                Uncentered R2 =  -0.1189
Residual SS             =  214897976.7                Root MSE      =    232.7

---------------------------------------------------------------------------------
                |               Robust
      Dln_x_wih | Coefficient  std. err.      t    P>|t|     [95% conf. interval]
----------------+----------------------------------------------------------------
        Dlprice |  -.6359383   .4636645    -1.37   0.172    -1.550925    .2790483
Dln_cond_lambda |   .2239976   .1191147     1.88   0.062     -.011061    .4590562
---------------------------------------------------------------------------------
Underidentification test (Kleibergen-Paap rk LM statistic):              8.821
                                                   Chi-sq(3) P-val =    0.0318
------------------------------------------------------------------------------
Weak identification test (Cragg-Donald Wald F statistic):                2.743
                         (Kleibergen-Paap rk Wald F statistic):          2.832
Stock-Yogo weak ID test critical values:  5% maximal IV relative bias    11.04
                                         10% maximal IV relative bias     7.56
                                         20% maximal IV relative bias     5.57
                                         30% maximal IV relative bias     4.73
                                         10% maximal IV size             16.87
                                         15% maximal IV size              9.93
                                         20% maximal IV size              7.54
                                         25% maximal IV size              6.28
Source: Stock-Yogo (2005).  Reproduced by permission.
NB: Critical values are for Cragg-Donald F statistic and i.i.d. errors.
------------------------------------------------------------------------------
Hansen J statistic (overidentification test of all instruments):         4.827
                                                   Chi-sq(2) P-val =    0.0895
------------------------------------------------------------------------------
Instrumented:         Dlprice Dln_cond_lambda
Excluded instruments: Z Dln_nfirms Dln_nproducts Dltariff
Partialled-out:       _cons
                      nb: total SS, model F and R2s are after partialling-out;
                          any small-sample adjustments include partialled-out
                          variables in regressor count K
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
         fe1 |       179         179           0    *|
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
.   outreg using output/temp/Table3_outreg.tex, varlabels tex fragment merge  
>         ctitle("" "Petr") nocons se bdec(3) statfont(normalsize)
>         sigsymbols(*,**,***) starlevels(10 5 1) hlines(101{0}1010010001)  
>         summtitle( N Obs.\Weak Ident Test \UnderIdent P-val\ N Prod-Year grs.)
>         summstat(N\widstat \idp\ N_g ) ;

                               ----------------------------------------------------------------------------------------
                                                      A&M         Food      Text&L&F     Wood       Paper      Petr   
                               ----------------------------------------------------------------------------------------
                                Dlprice              -6.227      -2.303      -3.359     -3.896     -2.646     -0.636  
                                                   (2.345)***  (0.765)***  (0.353)***  (1.855)**  (1.106)**  (0.464)  
                                Dln_cond_lambda      0.109       0.095       0.247       0.109      0.152     0.224   
                                                    (0.148)    (0.046)**   (0.022)***   (0.195)   (0.061)**  (0.119)* 
                                N Obs.               11,568      19,615     125,120      5,872     37,376     3,973   
                                Weak Ident Test       2.40        6.27       66.65       1.41       3.23       2.83   
                                UnderIdent P-val      0.02        0.00        0.00       0.15       0.01       0.03   
                                N Prod-Year grs.       .           .           .           .          .         .     
                               ----------------------------------------------------------------------------------------
                                                            * p<0.1; ** p<0.05; *** p<0.01

.         replace theta = -_b[Dlprice]   if isic>=2300 & isic<2400;
(4,089 real changes made)
.         replace theta_se = _se[Dlprice]  if isic>=2300 & isic<2400;
(4,089 real changes made)
.         replace a = (1 - _b[Dln_cond_lambda])  if isic>=2300 & isic<2400;
(4,089 real changes made)
.         replace a_se = _se[Dln_cond_lambda] if isic>=2300 & isic<2400;
(4,089 real changes made)
.         replace psi = -(1 - _b[Dln_cond_lambda])/_b[Dlprice]  if isic>=2300 & isic<2400;
(4,089 real changes made)
.         replace psi_se = psi * ( (_se[Dlprice]/_b[Dlprice])^2
>                 + (_se[Dln_cond_lambda]/(1-_b[Dln_cond_lambda]))^2 )^0.5 if isic>=2300 & isic<2400;
(4,089 real changes made)
.         replace fstat = e(widstat) if  isic>=2300 & isic<2400;
(4,089 real changes made)
.         replace obsv =  e(N) if  isic>=2300 & isic<2400;
(4,089 real changes made)
.                 replace id=6 if isic>=2300 & isic<2400;
(4,089 real changes made)
.         ivreghdfe Dln_x_wih  (Dlprice Dln_cond_lambda =  Z Dln_nfirms Dln_nproducts Dlvat) 
>         if isic>=2400 & isic<2500, a(fe1)       cluster(fe2 fe1);
(dropped 802 singleton observations)
(MWFE estimator converged in 1 iterations)

IV (2SLS) estimation
--------------------

Estimates efficient for homoskedasticity only
Statistics robust to heteroskedasticity and clustering on fe2 and fe1

Number of clusters (fe2) =       52525                Number of obs =   133142
Number of clusters (fe1) =        6714                F(  2,  6713) =    57.72
                                                      Prob > F      =   0.0000
Total (centered) SS     =   6414885871                Centered R2   =  -1.8764
Total (uncentered) SS   =   6414885871                Uncentered R2 =  -1.8764
Residual SS             =  1.84517e+10                Root MSE      =    372.3

---------------------------------------------------------------------------------
                |               Robust
      Dln_x_wih | Coefficient  std. err.      t    P>|t|     [95% conf. interval]
----------------+----------------------------------------------------------------
        Dlprice |   -3.96593   .4032992    -9.83   0.000    -4.756524   -3.175335
Dln_cond_lambda |   .0788739   .0252438     3.12   0.002      .029388    .1283599
---------------------------------------------------------------------------------
Underidentification test (Kleibergen-Paap rk LM statistic):            139.457
                                                   Chi-sq(3) P-val =    0.0000
------------------------------------------------------------------------------
Weak identification test (Cragg-Donald Wald F statistic):               73.291
                         (Kleibergen-Paap rk Wald F statistic):         38.012
Stock-Yogo weak ID test critical values:  5% maximal IV relative bias    11.04
                                         10% maximal IV relative bias     7.56
                                         20% maximal IV relative bias     5.57
                                         30% maximal IV relative bias     4.73
                                         10% maximal IV size             16.87
                                         15% maximal IV size              9.93
                                         20% maximal IV size              7.54
                                         25% maximal IV size              6.28
Source: Stock-Yogo (2005).  Reproduced by permission.
NB: Critical values are for Cragg-Donald F statistic and i.i.d. errors.
------------------------------------------------------------------------------
Hansen J statistic (overidentification test of all instruments):        69.598
                                                   Chi-sq(2) P-val =    0.0000
------------------------------------------------------------------------------
Instrumented:         Dlprice Dln_cond_lambda
Excluded instruments: Z Dln_nfirms Dln_nproducts Dlvat
Partialled-out:       _cons
                      nb: total SS, model F and R2s are after partialling-out;
                          any small-sample adjustments include partialled-out
                          variables in regressor count K
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
         fe1 |      6714        6714           0    *|
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
. outreg using output/temp/Table3_outreg.tex, varlabels tex fragment merge  
>         ctitle("" "Chem") nocons se bdec(3) statfont(normalsize)
>         sigsymbols(*,**,***) starlevels(10 5 1) hlines(101{0}1010010001)  
>         summtitle( N Obs.\Weak Ident Test \UnderIdent P-val\ N Prod-Year grs.)
>         summstat(N\widstat \idp\ N_g ) ;

                         ----------------------------------------------------------------------------------------------------
                                                A&M         Food      Text&L&F     Wood       Paper      Petr       Chem    
                         ----------------------------------------------------------------------------------------------------
                          Dlprice              -6.227      -2.303      -3.359     -3.896     -2.646     -0.636     -3.966   
                                             (2.345)***  (0.765)***  (0.353)***  (1.855)**  (1.106)**  (0.464)   (0.403)*** 
                          Dln_cond_lambda      0.109       0.095       0.247       0.109      0.152     0.224      0.079    
                                              (0.148)    (0.046)**   (0.022)***   (0.195)   (0.061)**  (0.119)*  (0.025)*** 
                          N Obs.               11,568      19,615     125,120      5,872     37,376     3,973     133,142   
                          Weak Ident Test       2.40        6.27       66.65       1.41       3.23       2.83      38.01    
                          UnderIdent P-val      0.02        0.00        0.00       0.15       0.01       0.03       0.00    
                          N Prod-Year grs.       .           .           .           .          .         .          .      
                         ----------------------------------------------------------------------------------------------------
                                                            * p<0.1; ** p<0.05; *** p<0.01

.         replace theta = -_b[Dlprice]  if isic>=2400 & isic<2500;
(136,470 real changes made)
.         replace theta_se = _se[Dlprice]  if isic>=2400 & isic<2500;
(136,470 real changes made)
.         replace a = (1 - _b[Dln_cond_lambda])  if isic>=2400 & isic<2500;
(136,470 real changes made)
.         replace a_se = _se[Dln_cond_lambda] if isic>=2400 & isic<2500;
(136,470 real changes made)
.         replace psi = -(1 - _b[Dln_cond_lambda])/_b[Dlprice]  if isic>=2400 & isic<2500;
(136,470 real changes made)
.         replace psi_se = psi * ( (_se[Dlprice]/_b[Dlprice])^2 
>                 + (_se[Dln_cond_lambda]/(1-_b[Dln_cond_lambda]))^2 )^0.5 if isic>=2400 & isic<2500;
(136,470 real changes made)
.         replace fstat = e(widstat) if  isic>=2400 & isic<2500;
(136,470 real changes made)
.         replace obsv =  e(N) if  isic>=2400 & isic<2500;
(136,470 real changes made)
.         replace id=7 if isic>=2400 & isic<2500;
(136,470 real changes made)
.         ivreghdfe Dln_x_wih  (Dlprice Dln_cond_lambda =  Z Dln_nfirms Dln_nproducts Dlvat) 
>         if isic>=2500 & isic<2600, a(fe1)       cluster(fe2 fe1);
(dropped 25 singleton observations)
(MWFE estimator converged in 1 iterations)

IV (2SLS) estimation
--------------------

Estimates efficient for homoskedasticity only
Statistics robust to heteroskedasticity and clustering on fe2 and fe1

Number of clusters (fe2) =       47913                Number of obs =   106398
Number of clusters (fe1) =        1115                F(  2,  1114) =    47.55
                                                      Prob > F      =   0.0000
Total (centered) SS     =   8066237763                Centered R2   =  -4.8499
Total (uncentered) SS   =   8066237763                Uncentered R2 =  -4.8499
Residual SS             =  4.71866e+10                Root MSE      =      666

---------------------------------------------------------------------------------
                |               Robust
      Dln_x_wih | Coefficient  std. err.      t    P>|t|     [95% conf. interval]
----------------+----------------------------------------------------------------
        Dlprice |  -5.157283   1.176424    -4.38   0.000    -7.465539   -2.849027
Dln_cond_lambda |   .2792776   .0624561     4.47   0.000     .1567327    .4018225
---------------------------------------------------------------------------------
Underidentification test (Kleibergen-Paap rk LM statistic):             23.021
                                                   Chi-sq(3) P-val =    0.0000
------------------------------------------------------------------------------
Weak identification test (Cragg-Donald Wald F statistic):                9.009
                         (Kleibergen-Paap rk Wald F statistic):          7.161
Stock-Yogo weak ID test critical values:  5% maximal IV relative bias    11.04
                                         10% maximal IV relative bias     7.56
                                         20% maximal IV relative bias     5.57
                                         30% maximal IV relative bias     4.73
                                         10% maximal IV size             16.87
                                         15% maximal IV size              9.93
                                         20% maximal IV size              7.54
                                         25% maximal IV size              6.28
Source: Stock-Yogo (2005).  Reproduced by permission.
NB: Critical values are for Cragg-Donald F statistic and i.i.d. errors.
------------------------------------------------------------------------------
Hansen J statistic (overidentification test of all instruments):        64.087
                                                   Chi-sq(2) P-val =    0.0000
------------------------------------------------------------------------------
Instrumented:         Dlprice Dln_cond_lambda
Excluded instruments: Z Dln_nfirms Dln_nproducts Dlvat
Partialled-out:       _cons
                      nb: total SS, model F and R2s are after partialling-out;
                          any small-sample adjustments include partialled-out
                          variables in regressor count K
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
         fe1 |      1115        1115           0    *|
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
.  outreg using output/temp/Table3_outreg.tex, varlabels tex fragment merge  
>         ctitle("" "Rub&Plas") nocons se bdec(3) statfont(normalsize)
>         sigsymbols(*,**,***) starlevels(10 5 1) hlines(101{0}1010010001)  
>         summtitle( N Obs.\Weak Ident Test \UnderIdent P-val\ N Prod-Year grs.)
>         summstat(N\widstat \idp\ N_g ) ;

                   ----------------------------------------------------------------------------------------------------------------
                                          A&M         Food      Text&L&F     Wood       Paper      Petr       Chem      Rub&Plas  
                   ----------------------------------------------------------------------------------------------------------------
                    Dlprice              -6.227      -2.303      -3.359     -3.896     -2.646     -0.636     -3.966      -5.157   
                                       (2.345)***  (0.765)***  (0.353)***  (1.855)**  (1.106)**  (0.464)   (0.403)***  (1.176)*** 
                    Dln_cond_lambda      0.109       0.095       0.247       0.109      0.152     0.224      0.079       0.279    
                                        (0.148)    (0.046)**   (0.022)***   (0.195)   (0.061)**  (0.119)*  (0.025)***  (0.062)*** 
                    N Obs.               11,568      19,615     125,120      5,872     37,376     3,973     133,142     106,398   
                    Weak Ident Test       2.40        6.27       66.65       1.41       3.23       2.83      38.01        7.16    
                    UnderIdent P-val      0.02        0.00        0.00       0.15       0.01       0.03       0.00        0.00    
                    N Prod-Year grs.       .           .           .           .          .         .          .           .      
                   ----------------------------------------------------------------------------------------------------------------
                                                            * p<0.1; ** p<0.05; *** p<0.01

.         replace theta = -_b[Dlprice]  if isic>=2500 & isic<2600;
(110,022 real changes made)
.         replace theta_se = _se[Dlprice]  if isic>=2500 & isic<2600;
(110,022 real changes made)
.         replace a = (1 - _b[Dln_cond_lambda])  if isic>=2500 & isic<2600;
(110,022 real changes made)
.         replace a_se = _se[Dln_cond_lambda] if isic>=2500 & isic<2600;
(110,022 real changes made)
.         replace psi = -(1 - _b[Dln_cond_lambda])/_b[Dlprice]  if isic>=2500 & isic<2600;
(110,022 real changes made)
.         replace psi_se = psi * ( (_se[Dlprice]/_b[Dlprice])^2 
>                 + (_se[Dln_cond_lambda]/(1-_b[Dln_cond_lambda]))^2 )^0.5 if isic>=2500 & isic<2600;
(110,022 real changes made)
.         replace fstat = e(widstat) if  isic>=2500 & isic<2600;
(110,022 real changes made)
.         replace obsv =  e(N) if  isic>=2500 & isic<2600;
(110,022 real changes made)
.         replace id=8 if isic>=2500 & isic<2600;
(110,022 real changes made)
.         ivreghdfe Dln_x_wih  (Dlprice Dln_cond_lambda =  Z Dln_nfirms Dln_nproducts Dlvat) 
>         if isic>=2600 & isic<2700, a(fe1)       cluster(fe2 fe1);
(dropped 88 singleton observations)
(MWFE estimator converged in 1 iterations)

IV (2SLS) estimation
--------------------

Estimates efficient for homoskedasticity only
Statistics robust to heteroskedasticity and clustering on fe2 and fe1

Number of clusters (fe2) =       12807                Number of obs =    27952
Number of clusters (fe1) =         879                F(  2,   878) =     9.58
                                                      Prob > F      =   0.0001
Total (centered) SS     =   1904786727                Centered R2   =  -4.6856
Total (uncentered) SS   =   1904786727                Uncentered R2 =  -4.6856
Residual SS             =  1.08298e+10                Root MSE      =    622.5

---------------------------------------------------------------------------------
                |               Robust
      Dln_x_wih | Coefficient  std. err.      t    P>|t|     [95% conf. interval]
----------------+----------------------------------------------------------------
        Dlprice |  -5.283282   1.666564    -3.17   0.002    -8.554196   -2.012369
Dln_cond_lambda |   .1190078     .10758     1.11   0.269    -.0921361    .3301518
---------------------------------------------------------------------------------
Underidentification test (Kleibergen-Paap rk LM statistic):             13.163
                                                   Chi-sq(3) P-val =    0.0043
------------------------------------------------------------------------------
Weak identification test (Cragg-Donald Wald F statistic):                4.365
                         (Kleibergen-Paap rk Wald F statistic):          3.526
Stock-Yogo weak ID test critical values:  5% maximal IV relative bias    11.04
                                         10% maximal IV relative bias     7.56
                                         20% maximal IV relative bias     5.57
                                         30% maximal IV relative bias     4.73
                                         10% maximal IV size             16.87
                                         15% maximal IV size              9.93
                                         20% maximal IV size              7.54
                                         25% maximal IV size              6.28
Source: Stock-Yogo (2005).  Reproduced by permission.
NB: Critical values are for Cragg-Donald F statistic and i.i.d. errors.
------------------------------------------------------------------------------
Hansen J statistic (overidentification test of all instruments):        22.151
                                                   Chi-sq(2) P-val =    0.0000
------------------------------------------------------------------------------
Instrumented:         Dlprice Dln_cond_lambda
Excluded instruments: Z Dln_nfirms Dln_nproducts Dlvat
Partialled-out:       _cons
                      nb: total SS, model F and R2s are after partialling-out;
                          any small-sample adjustments include partialled-out
                          variables in regressor count K
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
         fe1 |       879         879           0    *|
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
.  outreg using output/temp/Table3_outreg.tex, varlabels tex fragment merge  
>         ctitle("" "Miner") nocons se bdec(3) statfont(normalsize)
>         sigsymbols(*,**,***) starlevels(10 5 1) hlines(101{0}1010010001)  
>         summtitle( N Obs.\Weak Ident Test \UnderIdent P-val\ N Prod-Year grs.)
>         summstat(N\widstat \idp\ N_g ) ;

             ----------------------------------------------------------------------------------------------------------------------------
                                    A&M         Food      Text&L&F     Wood       Paper      Petr       Chem      Rub&Plas     Miner    
             ----------------------------------------------------------------------------------------------------------------------------
              Dlprice              -6.227      -2.303      -3.359     -3.896     -2.646     -0.636     -3.966      -5.157      -5.283   
                                 (2.345)***  (0.765)***  (0.353)***  (1.855)**  (1.106)**  (0.464)   (0.403)***  (1.176)***  (1.667)*** 
              Dln_cond_lambda      0.109       0.095       0.247       0.109      0.152     0.224      0.079       0.279       0.119    
                                  (0.148)    (0.046)**   (0.022)***   (0.195)   (0.061)**  (0.119)*  (0.025)***  (0.062)***   (0.108)   
              N Obs.               11,568      19,615     125,120      5,872     37,376     3,973     133,142     106,398      27,952   
              Weak Ident Test       2.40        6.27       66.65       1.41       3.23       2.83      38.01        7.16        3.53    
              UnderIdent P-val      0.02        0.00        0.00       0.15       0.01       0.03       0.00        0.00        0.00    
              N Prod-Year grs.       .           .           .           .          .         .          .           .           .      
             ----------------------------------------------------------------------------------------------------------------------------
                                                            * p<0.1; ** p<0.05; *** p<0.01

.         replace theta = -_b[Dlprice]  if isic>=2600 & isic<2700;
(28,616 real changes made)
.         replace theta_se = _se[Dlprice]  if isic>=2600 & isic<2700;
(28,616 real changes made)
.         replace a = (1 - _b[Dln_cond_lambda])  if isic>=2600 & isic<2700;
(28,616 real changes made)
.         replace a_se = _se[Dln_cond_lambda]  if isic>=2600 & isic<2700;
(28,616 real changes made)
.         replace psi = -(1 - _b[Dln_cond_lambda])/_b[Dlprice]  if isic>=2600 & isic<2700;
(28,616 real changes made)
.         replace psi_se = psi * ( (_se[Dlprice]/_b[Dlprice])^2 
>         + (_se[Dln_cond_lambda]/(1-_b[Dln_cond_lambda]))^2 )^0.5 if isic>=2600 & isic<2700;
(28,616 real changes made)
.         replace fstat = e(widstat) if  isic>=2600 & isic<2700;
(28,616 real changes made)
.         replace obsv =  e(N) if  isic>=2600 & isic<2700;
(28,616 real changes made)
.         replace id=9 if isic>=2600 & isic<2700;
(28,616 real changes made)
.         ivreghdfe Dln_x_wih  (Dlprice Dln_cond_lambda =  Z Dln_nfirms Dln_nproducts Dlvat) 
>         if isic>=2700 & isic<2900, a(fe1)       cluster(fe2 fe1);
(dropped 420 singleton observations)
(MWFE estimator converged in 1 iterations)

IV (2SLS) estimation
--------------------

Estimates efficient for homoskedasticity only
Statistics robust to heteroskedasticity and clustering on fe2 and fe1

Number of clusters (fe2) =       69444                Number of obs =   153102
Number of clusters (fe1) =        3181                F(  2,  3180) =   165.11
                                                      Prob > F      =   0.0000
Total (centered) SS     =  1.26333e+10                Centered R2   =  -0.9389
Total (uncentered) SS   =  1.26333e+10                Uncentered R2 =  -0.9389
Residual SS             =  2.44953e+10                Root MSE      =      400

---------------------------------------------------------------------------------
                |               Robust
      Dln_x_wih | Coefficient  std. err.      t    P>|t|     [95% conf. interval]
----------------+----------------------------------------------------------------
        Dlprice |  -3.003836   .4836303    -6.21   0.000    -3.952095   -2.055577
Dln_cond_lambda |   .3731974   .0295546    12.63   0.000     .3152493    .4311455
---------------------------------------------------------------------------------
Underidentification test (Kleibergen-Paap rk LM statistic):             72.472
                                                   Chi-sq(3) P-val =    0.0000
------------------------------------------------------------------------------
Weak identification test (Cragg-Donald Wald F statistic):               24.891
                         (Kleibergen-Paap rk Wald F statistic):         20.393
Stock-Yogo weak ID test critical values:  5% maximal IV relative bias    11.04
                                         10% maximal IV relative bias     7.56
                                         20% maximal IV relative bias     5.57
                                         30% maximal IV relative bias     4.73
                                         10% maximal IV size             16.87
                                         15% maximal IV size              9.93
                                         20% maximal IV size              7.54
                                         25% maximal IV size              6.28
Source: Stock-Yogo (2005).  Reproduced by permission.
NB: Critical values are for Cragg-Donald F statistic and i.i.d. errors.
------------------------------------------------------------------------------
Hansen J statistic (overidentification test of all instruments):       237.846
                                                   Chi-sq(2) P-val =    0.0000
------------------------------------------------------------------------------
Instrumented:         Dlprice Dln_cond_lambda
Excluded instruments: Z Dln_nfirms Dln_nproducts Dlvat
Partialled-out:       _cons
                      nb: total SS, model F and R2s are after partialling-out;
                          any small-sample adjustments include partialled-out
                          variables in regressor count K
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
         fe1 |      3181        3181           0    *|
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
.   outreg using output/temp/Table3_outreg.tex, varlabels tex fragment merge  
>         ctitle("" "BasFaM") nocons se bdec(3) statfont(normalsize)
>         sigsymbols(*,**,***) starlevels(10 5 1) hlines(101{0}1010010001)  
>         summtitle( N Obs.\Weak Ident Test \UnderIdent P-val\ N Prod-Year grs.)
>         summstat(N\widstat \idp\ N_g ) ;

       ----------------------------------------------------------------------------------------------------------------------------------------
                              A&M         Food      Text&L&F     Wood       Paper      Petr       Chem      Rub&Plas     Miner       BasFaM   
       ----------------------------------------------------------------------------------------------------------------------------------------
        Dlprice              -6.227      -2.303      -3.359     -3.896     -2.646     -0.636     -3.966      -5.157      -5.283      -3.004   
                           (2.345)***  (0.765)***  (0.353)***  (1.855)**  (1.106)**  (0.464)   (0.403)***  (1.176)***  (1.667)***  (0.484)*** 
        Dln_cond_lambda      0.109       0.095       0.247       0.109      0.152     0.224      0.079       0.279       0.119       0.373    
                            (0.148)    (0.046)**   (0.022)***   (0.195)   (0.061)**  (0.119)*  (0.025)***  (0.062)***   (0.108)    (0.030)*** 
        N Obs.               11,568      19,615     125,120      5,872     37,376     3,973     133,142     106,398      27,952     153,102   
        Weak Ident Test       2.40        6.27       66.65       1.41       3.23       2.83      38.01        7.16        3.53       20.39    
        UnderIdent P-val      0.02        0.00        0.00       0.15       0.01       0.03       0.00        0.00        0.00        0.00    
        N Prod-Year grs.       .           .           .           .          .         .          .           .           .           .      
       ----------------------------------------------------------------------------------------------------------------------------------------
                                                            * p<0.1; ** p<0.05; *** p<0.01

.         replace theta = -_b[Dlprice]  if isic>=2700 & isic<2900;
(157,679 real changes made)
.         replace theta_se = _se[Dlprice]  if isic>=2700 & isic<2900;
(157,679 real changes made)
.         replace a = (1 - _b[Dln_cond_lambda])  if isic>=2700 & isic<2900;
(157,679 real changes made)
.         replace a_se = _se[Dln_cond_lambda] if isic>=2700 & isic<2900;
(157,679 real changes made)
.         replace psi = -(1 - _b[Dln_cond_lambda])/_b[Dlprice]  if isic>=2700 & isic<2900;
(157,679 real changes made)
.         replace psi_se = psi * ( (_se[Dlprice]/_b[Dlprice])^2 
>         + (_se[Dln_cond_lambda]/(1-_b[Dln_cond_lambda]))^2 )^0.5 if isic>=2700 & isic<2900;
(157,679 real changes made)
.         replace fstat = e(widstat) if  isic>=2700 & isic<2900;
(157,679 real changes made)
.         replace obsv =  e(N) if isic>=2700 & isic<2900;
(157,679 real changes made)
.         replace id=10 if isic>=2700 & isic<2900;
(157,679 real changes made)
.         ivreghdfe Dln_x_wih  (Dlprice Dln_cond_lambda =   Z Dln_nfirms Dln_nproducts Dltax) 
>         if isic>=2900 & isic<3100, a(fe1)       cluster(fe2 fe1);
(dropped 446 singleton observations)
(MWFE estimator converged in 1 iterations)

IV (2SLS) estimation
--------------------

Estimates efficient for homoskedasticity only
Statistics robust to heteroskedasticity and clustering on fe2 and fe1

Number of clusters (fe2) =      118189                Number of obs =   263797
Number of clusters (fe1) =        3982                F(  2,  3981) =    35.30
                                                      Prob > F      =   0.0000
Total (centered) SS     =  1.91335e+10                Centered R2   = -13.9813
Total (uncentered) SS   =  1.91335e+10                Uncentered R2 = -13.9813
Residual SS             =  2.86644e+11                Root MSE      =     1042

---------------------------------------------------------------------------------
                |               Robust
      Dln_x_wih | Coefficient  std. err.      t    P>|t|     [95% conf. interval]
----------------+----------------------------------------------------------------
        Dlprice |  -7.750403    1.32982    -5.83   0.000     -10.3576   -5.143211
Dln_cond_lambda |   .0733278   .0722919     1.01   0.310    -.0684049    .2150605
---------------------------------------------------------------------------------
Underidentification test (Kleibergen-Paap rk LM statistic):             47.533
                                                   Chi-sq(3) P-val =    0.0000
------------------------------------------------------------------------------
Weak identification test (Cragg-Donald Wald F statistic):               21.078
                         (Kleibergen-Paap rk Wald F statistic):         12.014
Stock-Yogo weak ID test critical values:  5% maximal IV relative bias    11.04
                                         10% maximal IV relative bias     7.56
                                         20% maximal IV relative bias     5.57
                                         30% maximal IV relative bias     4.73
                                         10% maximal IV size             16.87
                                         15% maximal IV size              9.93
                                         20% maximal IV size              7.54
                                         25% maximal IV size              6.28
Source: Stock-Yogo (2005).  Reproduced by permission.
NB: Critical values are for Cragg-Donald F statistic and i.i.d. errors.
------------------------------------------------------------------------------
Hansen J statistic (overidentification test of all instruments):        42.977
                                                   Chi-sq(2) P-val =    0.0000
------------------------------------------------------------------------------
Instrumented:         Dlprice Dln_cond_lambda
Excluded instruments: Z Dln_nfirms Dln_nproducts Dltax
Partialled-out:       _cons
                      nb: total SS, model F and R2s are after partialling-out;
                          any small-sample adjustments include partialled-out
                          variables in regressor count K
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
         fe1 |      3982        3982           0    *|
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
.  outreg using output/temp/Table3_outreg.tex, varlabels tex fragment merge  
>         ctitle("" "Mach") nocons se bdec(3) statfont(normalsize)
>         sigsymbols(*,**,***) starlevels(10 5 1) hlines(101{0}1010010001)  
>         summtitle( N Obs.\Weak Ident Test \UnderIdent P-val\ N Prod-Year grs.)
>         summstat(N\widstat \idp\ N_g ) ;

 ----------------------------------------------------------------------------------------------------------------------------------------------------
                        A&M         Food      Text&L&F     Wood       Paper      Petr       Chem      Rub&Plas     Miner       BasFaM       Mach    
 ----------------------------------------------------------------------------------------------------------------------------------------------------
  Dlprice              -6.227      -2.303      -3.359     -3.896     -2.646     -0.636     -3.966      -5.157      -5.283      -3.004      -7.750   
                     (2.345)***  (0.765)***  (0.353)***  (1.855)**  (1.106)**  (0.464)   (0.403)***  (1.176)***  (1.667)***  (0.484)***  (1.330)*** 
  Dln_cond_lambda      0.109       0.095       0.247       0.109      0.152     0.224      0.079       0.279       0.119       0.373       0.073    
                      (0.148)    (0.046)**   (0.022)***   (0.195)   (0.061)**  (0.119)*  (0.025)***  (0.062)***   (0.108)    (0.030)***   (0.072)   
  N Obs.               11,568      19,615     125,120      5,872     37,376     3,973     133,142     106,398      27,952     153,102     263,797   
  Weak Ident Test       2.40        6.27       66.65       1.41       3.23       2.83      38.01        7.16        3.53       20.39       12.01    
  UnderIdent P-val      0.02        0.00        0.00       0.15       0.01       0.03       0.00        0.00        0.00        0.00        0.00    
  N Prod-Year grs.       .           .           .           .          .         .          .           .           .           .           .      
 ----------------------------------------------------------------------------------------------------------------------------------------------------
                                                            * p<0.1; ** p<0.05; *** p<0.01

.         replace theta = -_b[Dlprice]  if isic>=2900 & isic<3100;
(272,102 real changes made)
.         replace theta_se = _se[Dlprice]  if isic>=2900 & isic<3100;
(272,102 real changes made)
.         replace a = (1 - _b[Dln_cond_lambda])  if isic>=2900 & isic<3100;
(272,102 real changes made)
.         replace a_se = _se[Dln_cond_lambda] if isic>=2900 & isic<3100;
(272,102 real changes made)
.         replace psi = -(1 - _b[Dln_cond_lambda])/_b[Dlprice]  if isic>=2900 & isic<3100;
(272,102 real changes made)
.         replace psi_se = psi * ( (_se[Dlprice]/_b[Dlprice])^2 
>         + (_se[Dln_cond_lambda]/(1-_b[Dln_cond_lambda]))^2 )^0.5 if isic>=2900 & isic<3100;
(272,102 real changes made)
.         replace fstat = e(widstat) if  isic>=2900 & isic<3100;
(272,102 real changes made)
.         replace obsv =  e(N) if  isic>=2900 & isic<3100;
(272,102 real changes made)
.         replace id=11 if isic>=2900 & isic<3100;
(272,102 real changes made)
.         ivreghdfe Dln_x_wih  (Dlprice Dln_cond_lambda =   Z Dln_nfirms Dln_nproducts Dltax) 
>         if isic>=3100 & isic<3400, a(fe1)       cluster(fe2 fe1);
(dropped 230 singleton observations)
(MWFE estimator converged in 1 iterations)

IV (2SLS) estimation
--------------------

Estimates efficient for homoskedasticity only
Statistics robust to heteroskedasticity and clustering on fe2 and fe1

Number of clusters (fe2) =      119405                Number of obs =   257775
Number of clusters (fe1) =        3363                F(  2,  3362) =   225.59
                                                      Prob > F      =   0.0000
Total (centered) SS     =  1.94412e+10                Centered R2   =  -0.0380
Total (uncentered) SS   =  1.94412e+10                Uncentered R2 =  -0.0380
Residual SS             =  2.01792e+10                Root MSE      =    279.8

---------------------------------------------------------------------------------
                |               Robust
      Dln_x_wih | Coefficient  std. err.      t    P>|t|     [95% conf. interval]
----------------+----------------------------------------------------------------
        Dlprice |  -1.234638   .3231948    -3.82   0.000    -1.868317   -.6009599
Dln_cond_lambda |   .3183684   .0168001    18.95   0.000     .2854291    .3513078
---------------------------------------------------------------------------------
Underidentification test (Kleibergen-Paap rk LM statistic):             99.448
                                                   Chi-sq(3) P-val =    0.0000
------------------------------------------------------------------------------
Weak identification test (Cragg-Donald Wald F statistic):               84.268
                         (Kleibergen-Paap rk Wald F statistic):         26.275
Stock-Yogo weak ID test critical values:  5% maximal IV relative bias    11.04
                                         10% maximal IV relative bias     7.56
                                         20% maximal IV relative bias     5.57
                                         30% maximal IV relative bias     4.73
                                         10% maximal IV size             16.87
                                         15% maximal IV size              9.93
                                         20% maximal IV size              7.54
                                         25% maximal IV size              6.28
Source: Stock-Yogo (2005).  Reproduced by permission.
NB: Critical values are for Cragg-Donald F statistic and i.i.d. errors.
------------------------------------------------------------------------------
Hansen J statistic (overidentification test of all instruments):       554.282
                                                   Chi-sq(2) P-val =    0.0000
------------------------------------------------------------------------------
Instrumented:         Dlprice Dln_cond_lambda
Excluded instruments: Z Dln_nfirms Dln_nproducts Dltax
Partialled-out:       _cons
                      nb: total SS, model F and R2s are after partialling-out;
                          any small-sample adjustments include partialled-out
                          variables in regressor count K
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
         fe1 |      3363        3363           0    *|
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
. outreg using output/temp/Table3_outreg.tex, varlabels tex fragment merge  
>         ctitle("" "Elec") nocons se bdec(3) statfont(normalsize)
>         sigsymbols(*,**,***) starlevels(10 5 1) hlines(101{0}1010010001)  
>         summtitle( N Obs.\Weak Ident Test \UnderIdent P-val\ N Prod-Year grs.)
>         summstat(N\widstat \idp\ N_g ) ;

 ----------------------------------------------------------------------------------------------------------------------------------------------------
                        A&M         Food      Text&L&F     Wood       Paper      Petr       Chem      Rub&Plas     Miner       BasFaM       Mach    
 ----------------------------------------------------------------------------------------------------------------------------------------------------
  Dlprice              -6.227      -2.303      -3.359     -3.896     -2.646     -0.636     -3.966      -5.157      -5.283      -3.004      -7.750   
                     (2.345)***  (0.765)***  (0.353)***  (1.855)**  (1.106)**  (0.464)   (0.403)***  (1.176)***  (1.667)***  (0.484)***  (1.330)*** 
  Dln_cond_lambda      0.109       0.095       0.247       0.109      0.152     0.224      0.079       0.279       0.119       0.373       0.073    
                      (0.148)    (0.046)**   (0.022)***   (0.195)   (0.061)**  (0.119)*  (0.025)***  (0.062)***   (0.108)    (0.030)***   (0.072)   
  N Obs.               11,568      19,615     125,120      5,872     37,376     3,973     133,142     106,398      27,952     153,102     263,797   
  Weak Ident Test       2.40        6.27       66.65       1.41       3.23       2.83      38.01        7.16        3.53       20.39       12.01    
  UnderIdent P-val      0.02        0.00        0.00       0.15       0.01       0.03       0.00        0.00        0.00        0.00        0.00    
  N Prod-Year grs.       .           .           .           .          .         .          .           .           .           .           .      
 ----------------------------------------------------------------------------------------------------------------------------------------------------
                                                            * p<0.1; ** p<0.05; *** p<0.01


                                                           --------------------------------
                                                                                  Elec    
                                                           --------------------------------
                                                            Dlprice              -1.235   
                                                                               (0.323)*** 
                                                            Dln_cond_lambda      0.318    
                                                                               (0.017)*** 
                                                            N Obs.              257,775   
                                                            Weak Ident Test      26.27    
                                                            UnderIdent P-val      0.00    
                                                            N Prod-Year grs.       .      
                                                           --------------------------------
                                                            * p<0.1; ** p<0.05; *** p<0.01

.         replace theta = -_b[Dlprice]  if isic>=3100 & isic<3400;
(265,219 real changes made)
.         replace theta_se = _se[Dlprice]  if isic>=3100 & isic<3400;
(265,219 real changes made)
.         replace a = (1 - _b[Dln_cond_lambda])  if isic>=3100 & isic<3400;
(265,219 real changes made)
.         replace a_se = _se[Dln_cond_lambda]  if isic>=3100 & isic<3400;
(265,219 real changes made)
.         replace psi = -(1 - _b[Dln_cond_lambda])/_b[Dlprice]  if isic>=3100 & isic<3400;
(265,219 real changes made)
.         replace psi_se = psi * ( (_se[Dlprice]/_b[Dlprice])^2 
>         + (_se[Dln_cond_lambda]/(1-_b[Dln_cond_lambda]))^2 )^0.5 if isic>=3100 & isic<3400;
(265,219 real changes made)
.         replace fstat = e(widstat) if  isic>=3100 & isic<3400;
(265,219 real changes made)
.         replace obsv =  e(N) if  isic>=3100 & isic<3400;
(265,219 real changes made)
.         replace id=12 if isic>=3100 & isic<3400;
(265,219 real changes made)
.         ivreghdfe Dln_x_wih  (Dlprice Dln_cond_lambda =   Z Dln_nfirms Dln_nproducts Dltariff) 
>         if isic>=3400 & isic<3600, a(fe1)       cluster(fe2 fe1);
(dropped 86 singleton observations)
(MWFE estimator converged in 1 iterations)

IV (2SLS) estimation
--------------------

Estimates efficient for homoskedasticity only
Statistics robust to heteroskedasticity and clustering on fe2 and fe1

Number of clusters (fe2) =       34338                Number of obs =    85920
Number of clusters (fe1) =        1036                F(  2,  1035) =   160.98
                                                      Prob > F      =   0.0000
Total (centered) SS     =   5842560767                Centered R2   =  -0.9415
Total (uncentered) SS   =   5842560767                Uncentered R2 =  -0.9415
Residual SS             =  1.13434e+10                Root MSE      =    363.4

---------------------------------------------------------------------------------
                |               Robust
      Dln_x_wih | Coefficient  std. err.      t    P>|t|     [95% conf. interval]
----------------+----------------------------------------------------------------
        Dlprice |  -2.804832   .8344037    -3.36   0.001    -4.442148   -1.167516
Dln_cond_lambda |   .6368524   .0358535    17.76   0.000     .5664986    .7072062
---------------------------------------------------------------------------------
Underidentification test (Kleibergen-Paap rk LM statistic):             20.737
                                                   Chi-sq(3) P-val =    0.0001
------------------------------------------------------------------------------
Weak identification test (Cragg-Donald Wald F statistic):               10.388
                         (Kleibergen-Paap rk Wald F statistic):          5.503
Stock-Yogo weak ID test critical values:  5% maximal IV relative bias    11.04
                                         10% maximal IV relative bias     7.56
                                         20% maximal IV relative bias     5.57
                                         30% maximal IV relative bias     4.73
                                         10% maximal IV size             16.87
                                         15% maximal IV size              9.93
                                         20% maximal IV size              7.54
                                         25% maximal IV size              6.28
Source: Stock-Yogo (2005).  Reproduced by permission.
NB: Critical values are for Cragg-Donald F statistic and i.i.d. errors.
------------------------------------------------------------------------------
Hansen J statistic (overidentification test of all instruments):       145.918
                                                   Chi-sq(2) P-val =    0.0000
------------------------------------------------------------------------------
Instrumented:         Dlprice Dln_cond_lambda
Excluded instruments: Z Dln_nfirms Dln_nproducts Dltariff
Partialled-out:       _cons
                      nb: total SS, model F and R2s are after partialling-out;
                          any small-sample adjustments include partialled-out
                          variables in regressor count K
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
         fe1 |      1036        1036           0    *|
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
. outreg using output/temp/Table3_outreg.tex, varlabels tex fragment merge  
>         ctitle("" "Trnsp") nocons se bdec(3) statfont(normalsize)
>         sigsymbols(*,**,***) starlevels(10 5 1) hlines(101{0}1010010001)  
>         summtitle( N Obs.\Weak Ident Test \UnderIdent P-val\ N Prod-Year grs.)
>         summstat(N\widstat \idp\ N_g ) ;

 ----------------------------------------------------------------------------------------------------------------------------------------------------
                        A&M         Food      Text&L&F     Wood       Paper      Petr       Chem      Rub&Plas     Miner       BasFaM       Mach    
 ----------------------------------------------------------------------------------------------------------------------------------------------------
  Dlprice              -6.227      -2.303      -3.359     -3.896     -2.646     -0.636     -3.966      -5.157      -5.283      -3.004      -7.750   
                     (2.345)***  (0.765)***  (0.353)***  (1.855)**  (1.106)**  (0.464)   (0.403)***  (1.176)***  (1.667)***  (0.484)***  (1.330)*** 
  Dln_cond_lambda      0.109       0.095       0.247       0.109      0.152     0.224      0.079       0.279       0.119       0.373       0.073    
                      (0.148)    (0.046)**   (0.022)***   (0.195)   (0.061)**  (0.119)*  (0.025)***  (0.062)***   (0.108)    (0.030)***   (0.072)   
  N Obs.               11,568      19,615     125,120      5,872     37,376     3,973     133,142     106,398      27,952     153,102     263,797   
  Weak Ident Test       2.40        6.27       66.65       1.41       3.23       2.83      38.01        7.16        3.53       20.39       12.01    
  UnderIdent P-val      0.02        0.00        0.00       0.15       0.01       0.03       0.00        0.00        0.00        0.00        0.00    
  N Prod-Year grs.       .           .           .           .          .         .          .           .           .           .           .      
 ----------------------------------------------------------------------------------------------------------------------------------------------------
                                                            * p<0.1; ** p<0.05; *** p<0.01


                                                     --------------------------------------------
                                                                            Elec       Trnsp    
                                                     --------------------------------------------
                                                      Dlprice              -1.235      -2.805   
                                                                         (0.323)***  (0.834)*** 
                                                      Dln_cond_lambda      0.318       0.637    
                                                                         (0.017)***  (0.036)*** 
                                                      N Obs.              257,775      85,920   
                                                      Weak Ident Test      26.27        5.50    
                                                      UnderIdent P-val      0.00        0.00    
                                                      N Prod-Year grs.       .           .      
                                                     --------------------------------------------
                                                            * p<0.1; ** p<0.05; *** p<0.01

.         replace theta = -_b[Dlprice]  if isic>=3400 & isic<3600;
(88,729 real changes made)
.         replace theta_se = _se[Dlprice]  if isic>=3400 & isic<3600;
(88,729 real changes made)
.         replace a = (1 - _b[Dln_cond_lambda])  if isic>=3400 & isic<3600;
(88,729 real changes made)
.         replace a_se = _se[Dln_cond_lambda]  if isic>=3400 & isic<3600;
(88,729 real changes made)
.         replace psi = -(1 - _b[Dln_cond_lambda])/_b[Dlprice]  if isic>=3400 & isic<3600;
(88,729 real changes made)
.         replace psi_se = psi * ( (_se[Dlprice]/_b[Dlprice])^2 + 
>         (_se[Dln_cond_lambda]/(1-_b[Dln_cond_lambda]))^2 )^0.5 if isic>=3400 & isic<3600;
(88,729 real changes made)
.         replace fstat = e(widstat) if  isic>=3400 & isic<3600;
(88,729 real changes made)
.         replace obsv =  e(N) if  isic>=3400 & isic<3600;
(88,729 real changes made)
.         replace id=13  if isic>=3400 & isic<3600;
(88,729 real changes made)
.         ivreghdfe Dln_x_wih  (Dlprice Dln_cond_lambda =   Z Dln_nfirms Dln_nproducts Dltax) 
>         if isic>=3600 & isic<3800, a(fe1)       cluster(fe2 fe1);
(dropped 112 singleton observations)
(MWFE estimator converged in 1 iterations)

IV (2SLS) estimation
--------------------

Estimates efficient for homoskedasticity only
Statistics robust to heteroskedasticity and clustering on fe2 and fe1

Number of clusters (fe2) =       35517                Number of obs =    70264
Number of clusters (fe1) =        1279                F(  2,  1278) =    25.77
                                                      Prob > F      =   0.0000
Total (centered) SS     =   5288598014                Centered R2   =  -7.4432
Total (uncentered) SS   =   5288598014                Uncentered R2 =  -7.4432
Residual SS             =  4.46526e+10                Root MSE      =    797.2

---------------------------------------------------------------------------------
                |               Robust
      Dln_x_wih | Coefficient  std. err.      t    P>|t|     [95% conf. interval]
----------------+----------------------------------------------------------------
        Dlprice |  -6.168902   1.012251    -6.09   0.000    -8.154759   -4.183046
Dln_cond_lambda |   .0619599   .0902431     0.69   0.492    -.1150809    .2390008
---------------------------------------------------------------------------------
Underidentification test (Kleibergen-Paap rk LM statistic):             42.786
                                                   Chi-sq(3) P-val =    0.0000
------------------------------------------------------------------------------
Weak identification test (Cragg-Donald Wald F statistic):               13.095
                         (Kleibergen-Paap rk Wald F statistic):         11.566
Stock-Yogo weak ID test critical values:  5% maximal IV relative bias    11.04
                                         10% maximal IV relative bias     7.56
                                         20% maximal IV relative bias     5.57
                                         30% maximal IV relative bias     4.73
                                         10% maximal IV size             16.87
                                         15% maximal IV size              9.93
                                         20% maximal IV size              7.54
                                         25% maximal IV size              6.28
Source: Stock-Yogo (2005).  Reproduced by permission.
NB: Critical values are for Cragg-Donald F statistic and i.i.d. errors.
------------------------------------------------------------------------------
Hansen J statistic (overidentification test of all instruments):        13.702
                                                   Chi-sq(2) P-val =    0.0011
------------------------------------------------------------------------------
Instrumented:         Dlprice Dln_cond_lambda
Excluded instruments: Z Dln_nfirms Dln_nproducts Dltax
Partialled-out:       _cons
                      nb: total SS, model F and R2s are after partialling-out;
                          any small-sample adjustments include partialled-out
                          variables in regressor count K
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
         fe1 |      1279        1279           0    *|
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
. outreg using output/temp/Table3_outreg.tex, varlabels tex fragment merge  
>         ctitle("" "MnfR") nocons se bdec(3) statfont(normalsize)
>         sigsymbols(*,**,***) starlevels(10 5 1) hlines(101{0}1010010001)  
>         summtitle( N Obs.\Weak Ident Test \UnderIdent P-val\ N Prod-Year grs.)
>         summstat(N\widstat \idp\ N_g ) ;

 ----------------------------------------------------------------------------------------------------------------------------------------------------
                        A&M         Food      Text&L&F     Wood       Paper      Petr       Chem      Rub&Plas     Miner       BasFaM       Mach    
 ----------------------------------------------------------------------------------------------------------------------------------------------------
  Dlprice              -6.227      -2.303      -3.359     -3.896     -2.646     -0.636     -3.966      -5.157      -5.283      -3.004      -7.750   
                     (2.345)***  (0.765)***  (0.353)***  (1.855)**  (1.106)**  (0.464)   (0.403)***  (1.176)***  (1.667)***  (0.484)***  (1.330)*** 
  Dln_cond_lambda      0.109       0.095       0.247       0.109      0.152     0.224      0.079       0.279       0.119       0.373       0.073    
                      (0.148)    (0.046)**   (0.022)***   (0.195)   (0.061)**  (0.119)*  (0.025)***  (0.062)***   (0.108)    (0.030)***   (0.072)   
  N Obs.               11,568      19,615     125,120      5,872     37,376     3,973     133,142     106,398      27,952     153,102     263,797   
  Weak Ident Test       2.40        6.27       66.65       1.41       3.23       2.83      38.01        7.16        3.53       20.39       12.01    
  UnderIdent P-val      0.02        0.00        0.00       0.15       0.01       0.03       0.00        0.00        0.00        0.00        0.00    
  N Prod-Year grs.       .           .           .           .          .         .          .           .           .           .           .      
 ----------------------------------------------------------------------------------------------------------------------------------------------------
                                                            * p<0.1; ** p<0.05; *** p<0.01


                                               --------------------------------------------------------
                                                                      Elec       Trnsp        MnfR    
                                               --------------------------------------------------------
                                                Dlprice              -1.235      -2.805      -6.169   
                                                                   (0.323)***  (0.834)***  (1.012)*** 
                                                Dln_cond_lambda      0.318       0.637       0.062    
                                                                   (0.017)***  (0.036)***   (0.090)   
                                                N Obs.              257,775      85,920      70,264   
                                                Weak Ident Test      26.27        5.50       11.57    
                                                UnderIdent P-val      0.00        0.00        0.00    
                                                N Prod-Year grs.       .           .           .      
                                               --------------------------------------------------------
                                                            * p<0.1; ** p<0.05; *** p<0.01

.         replace theta = -_b[Dlprice]  if isic>=3600 & isic<3800;
(72,006 real changes made)
.         replace theta_se = _se[Dlprice]  if isic>=3600 & isic<3800;
(72,006 real changes made)
.         replace a = (1 - _b[Dln_cond_lambda]) if isic>=3600 & isic<3800;
(72,006 real changes made)
.         replace a_se = _se[Dln_cond_lambda] if isic>=3600 & isic<3800;
(72,006 real changes made)
.         replace psi = -(1 - _b[Dln_cond_lambda])/_b[Dlprice]  if isic>=3600 & isic<3800;
(72,006 real changes made)
.         replace psi_se = psi * ( (_se[Dlprice]/_b[Dlprice])^2 
>         + (_se[Dln_cond_lambda]/(1-_b[Dln_cond_lambda]))^2 )^0.5 if isic>=3600 & isic<3800;
(72,006 real changes made)
.         replace fstat = e(widstat) if  isic>=3600 & isic<3800;
(72,006 real changes made)
.         replace obsv =  e(N) if  isic>=3600 & isic<3800;
(72,006 real changes made)
.         replace id=14 if isic>=3600 & isic<3800;
(72,006 real changes made)
.         collapse  theta theta_se psi psi_se a a_se fstat obsv, by(id);
. save data/internally_generated/table3_estimates.dta, replace;
file data/internally_generated/table3_estimates.dta saved
. #delimit cr
delimiter now cr
. 
. }

. *******************************************************
.   *******   CREATE TABLE 3 in TEX FROMAT   ********
. *******************************************************
. use data/internally_generated/table3_estimates.dta, clear

. capture file close OuputTable

.         file open  OuputTable using "output/Table_3.tex", write replace

.         file write      OuputTable /// 
>             "\begin{adjustwidth}{-0.25in}{-0.0in}" _n ///                                                                                           
>                                                                              
>                 "\small" _n ///
>                 "\begin{tabular}{lccccccccccc}" _n ///
>                 "\toprule" _n ///
>                 "& & & \multicolumn{5}{c}{Estimated Parameter} && \phantom{abc} & \phantom{abc} & \\"   _n ///
>                 "\cmidrule{4-8}"_n ///
>                 "Sector & ISIC4 codes && $\sigma_{k}-1$ && $\frac{\sigma_{k}-1}{\gamma_{k}-1}$ && $\mu_{k}$ && Obs. & \specialcell{\footnotesize Wea
> k \\ Ident. Test} \\" _n ///
>                 "\midrule"

.                 
.                 local sectors  `" "Agriculture \& Mining" "Food" "Textiles, Leather \& Footwear" "Wood" "Paper" "Petroleum"  "Chemicals" "Rubber \& 
> Plastic"  "Minerals" "Basic \& Fabricated Metals" "Machinery"        "Electrical \& Optical Equipment"  "Transport Equipment" "N.E.C. \& Recycling" 
>  "'

.                 
.                                 local isic  `" "100-1499" "1500-1699" "1700-1999" "2000-2099" "2100-2299" "2300-2399" "2400-2499" "2500-2599"  "2600
> -2699" "2700-2899" "2900-3099" "3100-3399" "3400-3599" "3600-3800"  "'

.                 
.                 forval i = 1/14 {
  2.         
.                 local sector_code : word `i' of `isic'
  3.                 local sector: word `i' of `sectors'
  4.                 di `i'
  5.                 scalar A = theta[`i']
  6.                 scalar B = a[`i']
  7.                 scalar C = psi[`i']
  8.                 scalar D = theta_se[`i']
  9.                 scalar E = a_se[`i']
 10.                 scalar F = psi_se[`i']
 11.                 scalar G = fstat[`i']
 12.                 scalar H = obsv[`i']
 13.                 
.                 file write OuputTable ///
>                 "`sector'  & `sector_code' &&" %6.3f (A) "&&" %6.3f (B) "&&" %6.3f (C) "&&"  %9.0fc (H) "&"  %3.2f (G) "\\" _n ///
>                 "& && \footnotesize(" %6.3f (D) ") && \footnotesize(" %6.3f (E) ") && \footnotesize(" %6.3f (F) ") &&     &    \\ \addlinespace     
>                                                                                                     "
 14.                 
.                 }
1
2
3
4
5
6
7
8
9
10
11
12
13
14

.                 
.         file write OuputTable ///       
>         "\bottomrule \\ \end{tabular} \vspace{-0.2in} \\"       _n ///
>     "\footnotesize {\it Notes}. Estimation results of Equation \eqref{eq:Main}. Standard errors in parentheses. The estimation is conducted with HS1
> 0 product-year fixed effects." _n ///
>         "All standard errors are simultaneously clustered by product-year and by origin-product, which is akin to the correction proposed by \citet{
> adao2019shift}." _n ///      
>         "The weak identification test statistics is the F statistics from the Kleibergen-Paap Wald test for weak identification of all instrumented 
> variables." _n ///
>         "The test for over-identification is not reported due to the pitfalls of the standard over-identification Sargan-Hansen J test in the multi-
> dimensional large datasets pointed by \cite{AngrsitEtAl96}." _n ///
>     "\end{adjustwidth}"

.                                                                                                                                                     
>                              
. file close OuputTable

. 
. rename theta theta_baseline

. rename psi psi_baseline

. keep theta_baseline psi_baseline id

. save data/temp/baseline_estimates.dta, replace
(file data/temp/baseline_estimates.dta not found)
file data/temp/baseline_estimates.dta saved

. 
. *erase "./data/temp/colombia_imports_cleaned.dta"
. log close
      name:  <unnamed>
       log:  /Users/ahmadlp/Dropbox/LL2020/Replication_Aug_2023/Stata/logs/1-table_3.log
  log type:  text
 closed on:   8 Aug 2023, 17:37:11
------------------------------------------------------------------------------------------------------------------------------------------------------
