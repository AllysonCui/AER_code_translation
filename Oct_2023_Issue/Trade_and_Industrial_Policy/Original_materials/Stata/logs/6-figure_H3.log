------------------------------------------------------------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  /Users/ahmadlp/Dropbox/LL2020/Replication_Aug_2023/Stata/logs/6-figure_H3.log
  log type:  text
 opened on:   8 Aug 2023, 17:41:52

. 
. use RunTime_MPEC RunTime_Theory case using data/internally_generated/appendixH_simulation_all, clear

. 
. collapse (mean) RunTime*, by(case)

. 
. gen     case_desc = "2 countries"                       if case==1
(2 missing values generated)

. replace case_desc = "5 countries"                       if case==2
(1 real change made)

. replace case_desc = "20 countries"                      if case==3
variable case_desc was str11 now str12
(1 real change made)

. 
. rename RunTime_Theory RunTime1

. rename RunTime_MPEC RunTime2

. 
. label variable RunTime1 "Theorem 1"

. label variable RunTime2   "Numerical Optimization (FMINCON)"

. 
. *graph set window fontface "Merriweather"
. ds RunTime*
RunTime2  RunTime1

. local items : word count `r(varlist)'

. display `item'


. local colors = `items' + 1

. colorpalette9    ///
>  "130  192  233"  ///
>  "  0  100  175"  ///
>   , n(`colors') nograph

. foreach x of numlist 1/`items' {
  2.  
. 
. *** here the code for bar colors
.  local barcolor `barcolor' bar(`x', fcolor("`r(p`x')'") ///
>  lcolor(black) lwidth(*1)) `///' 
  3.  
.  
. *** here the code for legend
.  local mylab : var lab RunTime`x'
  4.  local legend `legend' lab(`x' "`mylab'")
  5. }

. 
. gen RunTime = 100*(RunTime2/RunTime1)

. *** the final graph we want:
. graph bar (mean) RunTime, ///
>  over(case_desc, gap(*1.5) label(labsize(4)) axis(lcolor(none)) sort(case)) bargap(-15)  ///
>   `barcolor' ///
>   ytitle(% gains in computation speed, size(medlarge)) ///
>   legend(`legend' col(1) size(medium) pos(12) ring(1) region(fcolor(none)) ) ///
>   title("") xsize(2) ysize(1) //note("{fontface typewriter:Source: WBES}", size(3)) 

.   
. graph export "output/Figure_H3.pdf", replace   
file /Users/ahmadlp/Dropbox/LL2020/Replication_Aug_2023/Stata/output/Figure_H3.pdf saved as PDF format

. 
. 
. graph close

. erase data/internally_generated/appendixH_simulation_all.dta

. capture erase data/internally_generated/appendixH_simulation_2x10_s.csv

. capture erase data/internally_generated/appendixH_simulation_5x10_s.csv

. capture erase data/internally_generated/appendixH_simulation_20x10_s.csv

. log close   
      name:  <unnamed>
       log:  /Users/ahmadlp/Dropbox/LL2020/Replication_Aug_2023/Stata/logs/6-figure_H3.log
  log type:  text
 closed on:   8 Aug 2023, 17:41:53
------------------------------------------------------------------------------------------------------------------------------------------------------
